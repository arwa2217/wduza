{"version":3,"sources":["webpack:///./node_modules/substyle/lib/utils.js","webpack:///./node_modules/invariant/browser.js","webpack:///./node_modules/substyle/lib/createSubstyle.js","webpack:///./node_modules/substyle/lib/defaultPropsDecorator.js","webpack:///./node_modules/substyle/lib/pickStyles.js","webpack:///./node_modules/substyle/lib/filterKeys.js","webpack:///./node_modules/substyle/lib/coerceSelection.js","webpack:///./node_modules/substyle/lib/types.js","webpack:///./node_modules/substyle/lib/index.js","webpack:///./node_modules/substyle/lib/memoize.js","webpack:///./node_modules/substyle/lib/defaultStyle.js","webpack:///./node_modules/warning/browser.js","webpack:///./node_modules/substyle/lib/EnhancerProvider.js","webpack:///./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack:///./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack:///./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack:///./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack:///./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/extends.js","webpack:///./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack:///./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/createClass.js","webpack:///./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/typeof.js","webpack:///./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","webpack:///./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","webpack:///./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack:///./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack:///./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/inherits.js","webpack:///./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack:///./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack:///./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack:///./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack:///./node_modules/react-mentions/dist/react-mentions.esm.js"],"names":["Object","defineProperty","exports","value","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_defineProperty","obj","enumerable","configurable","writable","keys","values","mergeDeep","output","isPlainObject","forEach","merge","_len","sources","Array","_key","reduce","t","s","_len2","_key2","apply","concat","identity","omit","other","indexOf","_objectWithoutProperties","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","err","return","Date","isArray","compact","arr","filter","Boolean","module","condition","format","a","b","c","d","e","f","error","Error","args","argIndex","replace","name","framesToPop","_invariant2","_interopRequireDefault","_utils","_defaultPropsDecorator2","_pickStyles","_filterKeys","_coerceSelection2","_memoize2","__esModule","default","_toConsumableArray","arr2","from","guessBaseClassName","classNames","firstKey","split","deriveClassNames","className","elementKeys","modifierKeys","firstClassName","derivedClassNames","map","substring","createSubstyle","_ref","style","propsDecorator","baseClassName","substyle","select","defaultStyle","selectedKeys","isModifier","isElement","collectElementStyles","fromStyle","pickNestedStyles","collectSelectedStyles","hoistModifierStylesRecursive","join","styleProps","classNameSplit","mappedClassNames","singleClassName","propsForSpread","defaultObjectPropsWhitelist","pickDirectStyles","camelize","m","toUpperCase","objectPropertiesWhitelist","styleKeys","result","l","isDirect","toString","keysToPick","camelizedKeysToPick","modifierKeysToPick","subresult","objSelect","acc","_ContextTypes","ContextTypes","PropTypes","PROPS_DECORATOR_CONTEXT_NAME","ENHANCER_CONTEXT_NAME","_propTypes","_propTypes2","newObj","_interopRequireWildcard","StylePT","oneOfType","func","object","ClassNamesPT","objectOf","string","innerRef","shape","current","Element","any","instanceOf","defaultPropsDecorator","EnhancerProvider","_createSubstyle2","_defaultStyle2","_EnhancerProvider2","_coerceSelection","EMPTY","cacheKey","memoize","WeakMap","mapEntry","has","get","set","selectHash","_createClass","defineProperties","props","descriptor","Constructor","protoProps","staticProps","_react","_hoistNonReactStatics2","_warning2","_types","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","isStatelessFunction","Component","render","getModifiers","shouldUpdate","WrappedComponent","WithDefaultStyle","_Component","context","this","_this","getPrototypeOf","setWrappedInstance","ref","wrappedInstance","rest","_props","prevStyle","prevClassName","prevClassNames","prevRest","_props2","EnhancedWrappedComponent","getWrappedComponent","modifiers","createElement","_context$ENHANCER_CON","enhance","memoizedEnhance","enhancedWrappedComponent","propTypes","wrappedComponentName","displayName","contextTypes","React","_React$Component","enhancer","Children","only","children","element","isRequired","childContextTypes","iter","_defineProperties","_typeof2","_typeof","_assertThisInitialized","_getPrototypeOf","o","_setPrototypeOf","p","_slicedToArray","_arr","_n","_d","_e","_s","_i","push","escapeRegex","str","PLACEHOLDERS","markup","parameterName","indexDisplay","indexId","regExps","serializedRegexParser","RegExp","regex","_serializedRegexParse2","exec","regexString","regexFlags","countPlaceholders","count","emptyFn","iterateMentionsMarkup","config","markupIteratee","match","textIteratee","accOffset","captureGroupOffsets","start","currentPlainTextIndex","offset","find","mentionChildIndex","_config$mentionChildI","displayTransform","idPos","displayPos","id","display","substr","index","lastIndex","getPlainText","plainTextIndex","plainText","mapPlainTextIndex","indexInPlainText","inMarkupCorrection","substrPlainTextIndex","mentionPlainTextIndex","childIndex","lastMentionEndIndex","spliceString","end","insert","getMentions","mentions","countSuggestions","suggestions","results","markupToRegex","escapedMarkup","charAfterDisplay","charAfterId","toArray","_ref$props","numberOfGroups","numberOfPlaceholders","lettersDiacritics","base","letters","normalizeString","formattedStr","letterDiacritics","removeAccents","toLowerCase","getSubstringIndex","ignoreAccents","isObjectEqual","obj1","obj2","keys1","keys2","isNumber","val","k","includes","ownKeys","enumerableOnly","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","_objectSpread","getOwnPropertyDescriptors","Highlighter","state","lastPosition","notifyCaretPosition","caretRef","position","left","offsetLeft","top","offsetTop","setState","onCaretPositionChange","caretPositionInMarkup","_this2","_this$props","selection","inputStyle","resultComponents","componentKeys","components","substringComponentKey","usedKeys","_generateComponentKey","getMentionComponentForMatch","splitIndex","renderSubstring","renderHighlighterCaret","child","cloneElement","_this3","el","number","arrayOf","Highlighter$1","width","color","overflow","whiteSpace","wordWrap","visibility","singleLine","styled","Suggestion","renderContent","query","renderSuggestion","suggestion","focused","getDisplay","highlightedDisplay","renderHighlightedDisplay","String","_this$props2","bool","Suggestion$1","cursor","styled$1","LoadingIndicator$1","spinnerStyle","ownKeys$1","SuggestionsOverlay","suggestionsRef","offsetHeight","scrollHeight","scrollFocusedIntoView","scrollTop","_this$suggestionsRef$","focusIndex","getBoundingClientRect","bottom","topContainer","isLoading","onMouseDown","renderSuggestions","renderLoadingIndicator","accResults","queryInfo","getID","isFocused","onClick","onMouseEnter","handleMouseEnter","ev","onSelect","SuggestionsOverlay$1","_ref2","_objectSpread$1","zIndex","backgroundColor","marginTop","minWidth","list","margin","padding","listStyleType","styled$2","ownKeys$2","_objectSpread$2","KEY","TAB","RETURN","ESC","UP","DOWN","isComposing","allowSpaceInQuery","EXPERIMENTAL_cutCopyPaste","allowSuggestionsAboveCursor","onKeyDown","onBlur","onChange","suggestionsPortalHost","inputRef","MentionsInput","isTextarea","readOnly","disabled","handleChange","handleSelect","handleKeyDown","handleBlur","onCompositionStart","handleCompositionStart","onCompositionEnd","handleCompositionEnd","onScroll","updateHighlighterScroll","inputProps","getInputProps","renderHighlighter","renderInput","renderTextarea","type","setInputRef","selectionStart","suggestionsNode","suggestionsPosition","addMention","handleSuggestionsMouseDown","createPortal","_this$state","selectionEnd","_this$props3","highlighterRef","caretPosition","event","_this$props4","_this$props$valueLink","valueLink","requestChange","document","activeElement","contentDocument","newPlainTextValue","newValue","plainTextValue","selectionStartBefore","selectionEndBefore","selectionEndAfter","oldPlainTextValue","lengthDelta","slice","spliceStart","Math","min","spliceEnd","max","mappedSpliceStart","mappedSpliceEnd","controlSpliceStart","controlSpliceEnd","willRemoveMention","controlPlainTextValue","lastIndexOf","applyChangeToValue","setSelectionAfterMentionChange","startOfMention","foundMention","findStartOfMentionInPlainText","eventMock","executeOnChange","selectFocusedCalled","updateMentionsQueries","clearSuggestions","suggestionsCount","suggestionsComp","keyCode","preventDefault","shiftFocus","selectFocused","delta","_this$state2","_Object$values$reduce","clickedSuggestion","_suggestionsMouseDown","window","setTimeout","_this$props5","findDOMNode","highlighter","caretOffsetParentRect","caretHeight","getComputedStyleLengthProp","viewportRelative","viewportHeight","documentElement","clientHeight","innerHeight","scrollLeft","viewportWidth","clientWidth","innerWidth","offsetWidth","_left","_top","containerRef","right","input","height","setSelectionRange","createTextRange","range","collapse","moveEnd","moveStart","_queryId","positionInValue","substringStartIndex","lastMention","getEndOfLastMention","trigger","options","escapedTriggerChar","makeTriggerRegex","querySequenceStart","queryData","querySequenceEnd","_this$props6","syncResult","data","callback","getDataProvider","provideData","updateSuggestions","bind","queryId","_ref3","_mentionsChild$props","appendSpaceOnAdd","onAdd","makeMentionsMarkup","focus","displayValue","newCaretPosition","handleCopy","handleCut","handlePaste","addEventListener","updateSuggestionsPosition","prevProps","prevState","setSelection","removeEventListener","renderControl","renderSuggestionsOverlay","supportsClipboardActions","_this$state3","_this$props7","markupStartIndex","markupEndIndex","pastedMentions","clipboardData","getData","pastedData","_this$state4","_this$props8","setData","saveSelectionToClipboard","_this$state5","_this$props9","forElement","propertyName","parseFloat","getComputedStyle","getPropertyValue","isFinite","isMobileSafari","navigator","test","userAgent","MentionsInput$1","overflowY","boxSizing","fontFamily","fontSize","letterSpacing","resize","marginLeft","_ref4","styled$3","Mention","fontWeight","styled$4","onRemove","defaultProps"],"mappings":"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R,CACDD,KAAM,KACNC,QAAS,wBACR,CACDD,KAAM,KACNC,QAAS,gDACR,CACDD,KAAM,KACNC,QAAS,wBACR,CACDD,KAAM,KACNC,QAAS,wBACR,CACDD,KAAM,KACNC,QAAS,uCACR,CACDD,KAAM,KACNC,QAAS,wBACR,CACDD,KAAM,IACNC,QAAS,mIACR,CACDD,KAAM,IACNC,QAAS,0KACR,CACDD,KAAM,IACNC,QAAS,qNACR,CACDD,KAAM,KACNC,QAAS,mCACR,CACDD,KAAM,KACNC,QAAS,mCACR,CACDD,KAAM,IACNC,QAAS,8ZACR,CACDD,KAAM,IACNC,QAAS,4FACR,CACDD,KAAM,IACNC,QAAS,qNACR,CACDD,KAAM,IACNC,QAAS,4MACR,CACDD,KAAM,IACNC,QAAS,mRACR,CACDD,KAAM,IACNC,QAAS,4EACR,CACDD,KAAM,IACNC,QAAS,8MACR,CACDD,KAAM,IACNC,QAAS,mQACR,CACDD,KAAM,KACNC,QAAS,sBACR,CACDD,KAAM,KACNC,QAAS,sBACR,CACDD,KAAM,IACNC,QAAS,wHACR,CACDD,KAAM,IACNC,QAAS,gPACR,CACDD,KAAM,KACNC,QAAS,sBACR,CACDD,KAAM,KACNC,QAAS,sBACR,CACDD,KAAM,IACNC,QAAS,8kBACR,CACDD,KAAM,KACNC,QAAS,sBACR,CACDD,KAAM,KACNC,QAAS,sBACR,CACDD,KAAM,KACNC,QAAS,wBACR,CACDD,KAAM,KACNC,QAAS,sBACR,CACDD,KAAM,IACNC,QAAS,uJACR,CACDD,KAAM,IACNC,QAAS,6FACR,CACDD,KAAM,IACNC,QAAS,oPACR,CACDD,KAAM,IACNC,QAAS,oPACR,CACDD,KAAM,IACNC,QAAS,oNACR,CACDD,KAAM,KACNC,QAAS,sBACR,CACDD,KAAM,KACNC,QAAS,wBACR,CACDD,KAAM,IACNC,QAAS,idACR,CACDD,KAAM,IACNC,QAAS,uHACR,CACDD,KAAM,KACNC,QAAS,wBACR,CACDD,KAAM,IACNC,QAAS,oJACR,CACDD,KAAM,IACNC,QAAS,8EACR,CACDD,KAAM,IACNC,QAAS,oNACR,CACDD,KAAM,IACNC,QAAS,0MACR,CACDD,KAAM,IACNC,QAAS,keACR,CACDD,KAAM,KACNC,QAAS,wBACR,CACDD,KAAM,KACNC,QAAS,gDACR,CACDD,KAAM,KACNC,QAAS,wBACR,CACDD,KAAM,KACNC,QAAS,wBACR,CACDD,KAAM,KACNC,QAAS,uCACR,CACDD,KAAM,KACNC,QAAS,wBACR,CACDD,KAAM,IACNC,QAAS,mIACR,CACDD,KAAM,IACNC,QAAS,wLACR,CACDD,KAAM,IACNC,QAAS,sNACR,CACDD,KAAM,KACNC,QAAS,mCACR,CACDD,KAAM,IACNC,QAAS,4aACR,CACDD,KAAM,IACNC,QAAS,6FACR,CACDD,KAAM,IACNC,QAAS,qNACR,CACDD,KAAM,IACNC,QAAS,yNACR,CACDD,KAAM,KACNC,QAAS,sBACR,CACDD,KAAM,IACNC,QAAS,oRACR,CACDD,KAAM,KACNC,QAAS,sBACR,CACDD,KAAM,IACNC,QAAS,0FACR,CACDD,KAAM,IACNC,QAAS,+MACR,CACDD,KAAM,IACNC,QAAS,kQACR,CACDD,KAAM,KACNC,QAAS,sBACR,CACDD,KAAM,IACNC,QAAS,uHACR,CACDD,KAAM,IACNC,QAAS,8PACR,CACDD,KAAM,KACNC,QAAS,sBACR,CACDD,KAAM,IACNC,QAAS,+kBACR,CACDD,KAAM,KACNC,QAAS,sBACR,CACDD,KAAM,KACNC,QAAS,sBACR,CACDD,KAAM,KACNC,QAAS,sBACR,CACDD,KAAM,KACNC,QAAS,wBACR,CACDD,KAAM,IACNC,QAAS,uJACR,CACDD,KAAM,IACNC,QAAS,8FACR,CACDD,KAAM,IACNC,QAAS,mPACR,CACDD,KAAM,IACNC,QAAS,gQACR,CACDD,KAAM,KACNC,QAAS,sBACR,CACDD,KAAM,IACNC,QAAS,qOACR,CACDD,KAAM,KACNC,QAAS,sBACR,CACDD,KAAM,KACNC,QAAS,wBACR,CACDD,KAAM,IACNC,QAAS,kdACR,CACDD,KAAM,IACNC,QAAS,wHACR,CACDD,KAAM,KACNC,QAAS,wBACR,CACDD,KAAM,IACNC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","file":"chunks/vendors.mention.chunk.js","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar keys = exports.keys = function keys(obj) {\n  return obj === Object(obj) ? Object.keys(obj) : [];\n};\n\nvar values = exports.values = function values(obj) {\n  return obj === Object(obj) ? Object.values(obj) : [];\n};\n\nfunction mergeDeep(target, source) {\n  var output = assign({}, target);\n  if (isPlainObject(target) && isPlainObject(source)) {\n    keys(source).forEach(function (key) {\n      if (isPlainObject(source[key])) {\n        if (!(key in target)) assign(output, _defineProperty({}, key, source[key]));else output[key] = mergeDeep(target[key], source[key]);\n      } else {\n        assign(output, _defineProperty({}, key, source[key]));\n      }\n    });\n  }\n  return output;\n}\n\nvar merge = exports.merge = function merge(target) {\n  for (var _len = arguments.length, sources = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    sources[_key - 1] = arguments[_key];\n  }\n\n  return sources.reduce(function (t, s) {\n    return mergeDeep(t, s);\n  }, target);\n};\n\nvar assign = exports.assign = function assign(target) {\n  for (var _len2 = arguments.length, sources = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n    sources[_key2 - 1] = arguments[_key2];\n  }\n\n  return Object.assign.apply(Object, [target].concat(sources));\n};\n\nvar identity = exports.identity = function identity(value) {\n  return value;\n};\n\nvar omit = function omit(obj, keys) {\n  var _obj = _extends({}, obj),\n      other = _objectWithoutProperties(_obj, []);\n\n  if (keys) {\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = keys[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var key = _step.value;\n\n        delete other[key];\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator.return) {\n          _iterator.return();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n  }\n  return other;\n};\n\nexports.omit = omit;\nvar isPlainObject = exports.isPlainObject = function isPlainObject(obj) {\n  return obj === Object(obj) && !(obj instanceof Date) && !Array.isArray(obj);\n};\n\nvar compact = exports.compact = function compact(arr) {\n  return (arr || []).filter(Boolean);\n};","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar invariant = function(condition, format, a, b, c, d, e, f) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  }\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error(\n        'Minified exception occurred; use the non-minified dev environment ' +\n        'for the full error message and additional helpful warnings.'\n      );\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(\n        format.replace(/%s/g, function() { return args[argIndex++]; })\n      );\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n};\n\nmodule.exports = invariant;\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _invariant = require('invariant');\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nvar _utils = require('./utils');\n\nvar _defaultPropsDecorator = require('./defaultPropsDecorator');\n\nvar _defaultPropsDecorator2 = _interopRequireDefault(_defaultPropsDecorator);\n\nvar _pickStyles = require('./pickStyles');\n\nvar _filterKeys = require('./filterKeys');\n\nvar _coerceSelection = require('./coerceSelection');\n\nvar _coerceSelection2 = _interopRequireDefault(_coerceSelection);\n\nvar _memoize = require('./memoize');\n\nvar _memoize2 = _interopRequireDefault(_memoize);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar guessBaseClassName = function guessBaseClassName(classNames) {\n  // all class names must start with the same prefix: the component's base class name\n  // which will finally go to the container element\n  var firstKey = classNames && (0, _utils.keys)(classNames)[0];\n  return firstKey && firstKey.split('__')[0].split('--')[0];\n};\n\nvar deriveClassNames = function deriveClassNames(className, elementKeys, modifierKeys) {\n  // do not derive class names, if the user did not specify any class name\n  if (!className) {\n    return undefined;\n  }\n\n  // derive class names based using the passed modifier/element keys\n  var firstClassName = className.split(' ')[0];\n  var derivedClassNames = [].concat(_toConsumableArray(elementKeys.length === 0 ? modifierKeys.map(function (key) {\n    return firstClassName + '--' + key.substring(1);\n  }) : []), _toConsumableArray(elementKeys.map(function (key) {\n    return firstClassName + '__' + key;\n  })));\n\n  // also use the provided `className` if there is no sub-element selection\n  return elementKeys.length === 0 ? [className].concat(_toConsumableArray(derivedClassNames)) : derivedClassNames;\n};\n\nfunction createSubstyle(_ref) {\n  var style = _ref.style,\n      className = _ref.className,\n      classNames = _ref.classNames;\n  var propsDecorator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _defaultPropsDecorator2.default;\n\n  var baseClassName = className || guessBaseClassName(classNames);\n\n  var substyle = typeof style === 'function' ? style : (0, _memoize2.default)(function (select, defaultStyle) {\n    var selectedKeys = (0, _coerceSelection2.default)(select);\n\n    (0, _invariant2.default)(Array.isArray(selectedKeys), 'First parameter must be a string, an array of strings, ' + 'a plain object with boolean values, or a falsy value.');\n\n    (0, _invariant2.default)(!defaultStyle || (0, _utils.isPlainObject)(defaultStyle), 'Optional second parameter must be a plain object.');\n\n    var modifierKeys = selectedKeys.filter(_filterKeys.isModifier);\n    var elementKeys = selectedKeys.filter(_filterKeys.isElement);\n\n    var collectElementStyles = elementKeys.length > 0 ? function (fromStyle) {\n      return (0, _utils.values)((0, _pickStyles.pickNestedStyles)(fromStyle, elementKeys));\n    } : function (fromStyle) {\n      return [fromStyle];\n    };\n\n    var collectSelectedStyles = function collectSelectedStyles() {\n      var fromStyle = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      return collectElementStyles((0, _pickStyles.hoistModifierStylesRecursive)(fromStyle, modifierKeys));\n    };\n\n    var derivedClassNames = deriveClassNames(baseClassName, elementKeys, modifierKeys);\n\n    return createSubstyle(_extends({}, (style || defaultStyle) && {\n      style: _utils.merge.apply(undefined, [{}].concat(_toConsumableArray(collectSelectedStyles(defaultStyle)), _toConsumableArray(collectSelectedStyles(style))))\n    }, derivedClassNames && {\n      className: derivedClassNames.join(' ')\n    }, classNames && { classNames: classNames }), propsDecorator);\n  });\n\n  // $FlowFixMe Flow does not believe that also a function can be spread\n  var styleProps = _extends({}, typeof style === 'function' ? style : { style: style });\n\n  var classNameSplit = [].concat(_toConsumableArray(styleProps.className ? styleProps.className.split(' ') : []), _toConsumableArray(baseClassName ? baseClassName.split(' ') : []));\n  var mappedClassNames = classNames ? (0, _utils.compact)(classNameSplit.map(function (singleClassName) {\n    return classNames[singleClassName];\n  })) : classNameSplit;\n\n  var propsForSpread = propsDecorator(_extends({}, styleProps, mappedClassNames.length > 0 ? {\n    className: mappedClassNames.join(' ')\n  } : {}));\n\n  // assign `style` and/or `className` props to the return function object\n  (0, _utils.assign)(substyle, propsForSpread);\n  return substyle;\n}\n\nexports.default = createSubstyle;\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _pickStyles = require('./pickStyles');\n\n// many css-in-js libs process keyframes objects as the value for `animationName`\nvar defaultObjectPropsWhitelist = ['animationName'];\n\nvar defaultPropsDecorator = function defaultPropsDecorator(_ref) {\n  var style = _ref.style,\n      className = _ref.className;\n  return _extends({}, style ? { style: (0, _pickStyles.pickDirectStyles)(style, defaultObjectPropsWhitelist) } : {}, className ? { className: className } : {});\n};\n\nexports.default = defaultPropsDecorator;\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.hoistModifierStylesRecursive = exports.pickNestedStyles = exports.pickDirectStyles = undefined;\n\nvar _utils = require('./utils');\n\nvar _filterKeys = require('./filterKeys');\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar camelize = function camelize(key) {\n  return key.replace(/-(\\w)/g, function (m, c) {\n    return c.toUpperCase();\n  });\n};\n\nvar pickDirectStyles = exports.pickDirectStyles = function pickDirectStyles(style) {\n  var objectPropertiesWhitelist = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n  var styleKeys = (0, _utils.keys)(style);\n  var result = {};\n  for (var i = 0, l = styleKeys.length; i < l; i += 1) {\n    var key = styleKeys[i];\n    var isDirect = Object.prototype.toString.call(style[key]) !== '[object Object]' || // style defs\n    key[0] === ':' || // pseudo selectors\n    key[0] === '@' || // @media / @keyframes / @supports / @font-face\n    objectPropertiesWhitelist.indexOf(key) >= 0; // whitelisted object-type properties\n\n    if (isDirect) {\n      result[key] = style[key];\n    }\n  }\n  return result;\n};\n\nvar pickNestedStyles = exports.pickNestedStyles = function pickNestedStyles(style, keysToPick) {\n  var camelizedKeysToPick = keysToPick.map(camelize);\n  var styleKeys = (0, _utils.keys)(style);\n  var result = {};\n  for (var i = 0, l = styleKeys.length; i < l; i += 1) {\n    var key = styleKeys[i];\n    if (keysToPick.indexOf(key) >= 0 || camelizedKeysToPick.indexOf(camelize(key)) >= 0) {\n      result[key] = style[key];\n    }\n  }\n  return result;\n};\n\n// breadth-first hoisting of selected modifier style subtrees\n// does not traverse into element, :pseudo-selector or @directive subtrees\nvar hoistModifierStylesRecursive = exports.hoistModifierStylesRecursive = function hoistModifierStylesRecursive(style, modifierKeysToPick) {\n  // hoist styles for selected modifiers on current level\n  var result = _utils.merge.apply(undefined, [{}, (0, _utils.omit)(style, modifierKeysToPick)].concat(_toConsumableArray((0, _utils.values)(pickNestedStyles(style, modifierKeysToPick)))));\n\n  // traverse nested styled for ALL modifiers\n  var modifierKeys = (0, _utils.keys)(result).filter(_filterKeys.isModifier);\n  for (var i = 0, l = modifierKeys.length; i < l; i += 1) {\n    var key = modifierKeys[i];\n    var subresult = hoistModifierStylesRecursive(result[key], modifierKeysToPick);\n    if (modifierKeysToPick.indexOf(key) >= 0) {\n      // selected modifier: hoist subresult\n      delete result[key];\n      result = (0, _utils.merge)({}, result, subresult);\n    } else {\n      // non-selected modifier: replace with subresult\n      result[key] = subresult;\n    }\n  }\n\n  return result;\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar isModifier = exports.isModifier = function isModifier(key) {\n  return key[0] === '&';\n};\nvar isElement = exports.isElement = function isElement(key) {\n  return !isModifier(key);\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _utils = require('./utils');\n\nvar coerceSelection = function coerceSelection(select) {\n  if (!select) {\n    return [];\n  } else if (typeof select === 'string') {\n    return [select];\n  } else if (!Array.isArray(select)) {\n    var objSelect = select; // workaround for https://github.com/facebook/flow/issues/5781\n    return (0, _utils.keys)(select).reduce(function (acc, key) {\n      return acc.concat(objSelect[key] ? [key] : []);\n    }, []);\n  }\n  return select;\n};\nexports.default = coerceSelection;\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ContextTypes = exports.PropTypes = exports.PROPS_DECORATOR_CONTEXT_NAME = exports.ENHANCER_CONTEXT_NAME = undefined;\n\nvar _ContextTypes;\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = require('react');\n\nvar React = _interopRequireWildcard(_react);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar ENHANCER_CONTEXT_NAME = exports.ENHANCER_CONTEXT_NAME = '__substyle__enhancer';\nvar PROPS_DECORATOR_CONTEXT_NAME = exports.PROPS_DECORATOR_CONTEXT_NAME = '__substyle__propsDecorator';\n\nvar StylePT = _propTypes2.default.oneOfType([_propTypes2.default.func, _propTypes2.default.object]);\n\nvar ClassNamesPT = _propTypes2.default.objectOf(_propTypes2.default.string);\n\nvar PropTypes = exports.PropTypes = {\n  style: StylePT,\n  className: _propTypes2.default.string,\n  classNames: ClassNamesPT,\n  innerRef: _propTypes2.default.oneOfType([_propTypes2.default.func, _propTypes2.default.shape({\n    current: typeof Element === 'undefined' ? _propTypes2.default.any : _propTypes2.default.instanceOf(Element)\n  })])\n};\n\nvar ContextTypes = exports.ContextTypes = (_ContextTypes = {}, _defineProperty(_ContextTypes, ENHANCER_CONTEXT_NAME, _propTypes2.default.func), _defineProperty(_ContextTypes, PROPS_DECORATOR_CONTEXT_NAME, _propTypes2.default.func), _ContextTypes);","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.defaultPropsDecorator = exports.defaultStyle = exports.EnhancerProvider = exports.createSubstyle = undefined;\n\nvar _createSubstyle = require('./createSubstyle');\n\nvar _createSubstyle2 = _interopRequireDefault(_createSubstyle);\n\nvar _defaultStyle = require('./defaultStyle');\n\nvar _defaultStyle2 = _interopRequireDefault(_defaultStyle);\n\nvar _EnhancerProvider = require('./EnhancerProvider');\n\nvar _EnhancerProvider2 = _interopRequireDefault(_EnhancerProvider);\n\nvar _defaultPropsDecorator = require('./defaultPropsDecorator');\n\nvar _defaultPropsDecorator2 = _interopRequireDefault(_defaultPropsDecorator);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.createSubstyle = _createSubstyle2.default;\nexports.EnhancerProvider = _EnhancerProvider2.default;\nexports.defaultStyle = _defaultStyle2.default;\nexports.defaultPropsDecorator = _defaultPropsDecorator2.default;\nexports.default = (0, _defaultStyle2.default)();","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _coerceSelection = require('./coerceSelection');\n\nvar _coerceSelection2 = _interopRequireDefault(_coerceSelection);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar EMPTY = {};\n\n\nvar memoize = function memoize(substyle) {\n  return function (select, defaultStyle) {\n    var cacheKey = defaultStyle || EMPTY;\n    substyle.memoize = substyle.memoize || new WeakMap();\n    var mapEntry = void 0;\n    if (!substyle.memoize.has(cacheKey)) {\n      mapEntry = {};\n      substyle.memoize.set(cacheKey, mapEntry);\n    } else {\n      mapEntry = substyle.memoize.get(cacheKey);\n    }\n    var selectHash = (0, _coerceSelection2.default)(select).join(' ');\n    return selectHash in mapEntry ? mapEntry[selectHash] : mapEntry[selectHash] = substyle(select || [], defaultStyle);\n  };\n};\n\nexports.default = memoize;\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _hoistNonReactStatics = require('hoist-non-react-statics');\n\nvar _hoistNonReactStatics2 = _interopRequireDefault(_hoistNonReactStatics);\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nvar _utils = require('./utils');\n\nvar _createSubstyle = require('./createSubstyle');\n\nvar _createSubstyle2 = _interopRequireDefault(_createSubstyle);\n\nvar _types = require('./types');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar isStatelessFunction = function isStatelessFunction(Component\n// $FlowFixMe\n) {\n  return Component.prototype && !Component.prototype.render;\n};\n\nvar createDefaultStyle = function createDefaultStyle(defaultStyle, getModifiers) {\n  var shouldUpdate = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : function () {\n    return true;\n  };\n  return function (WrappedComponent) {\n    var WithDefaultStyle = function (_Component) {\n      _inherits(WithDefaultStyle, _Component);\n\n      function WithDefaultStyle(props, context) {\n        _classCallCheck(this, WithDefaultStyle);\n\n        var _this = _possibleConstructorReturn(this, (WithDefaultStyle.__proto__ || Object.getPrototypeOf(WithDefaultStyle)).call(this, props, context));\n\n        _this.setWrappedInstance = function (ref) {\n          _this.wrappedInstance = ref;\n          var innerRef = _this.props.innerRef;\n\n          if (typeof innerRef === 'function') {\n            innerRef(ref);\n          } else if (innerRef && typeof innerRef !== 'string') {\n            innerRef.current = ref;\n          }\n        };\n\n        var style = props.style,\n            className = props.className,\n            classNames = props.classNames,\n            _ = props.innerRef,\n            rest = _objectWithoutProperties(props, ['style', 'className', 'classNames', 'innerRef']);\n\n        _this.substyle = (0, _createSubstyle2.default)({ style: style, className: className, classNames: classNames }, _this.context[_types.PROPS_DECORATOR_CONTEXT_NAME]);\n\n        if (typeof defaultStyle === 'function') {\n          _this.defaultStyle = defaultStyle(rest);\n        }\n        return _this;\n      }\n\n      _createClass(WithDefaultStyle, [{\n        key: 'shouldComponentUpdate',\n        value: function shouldComponentUpdate(_ref) {\n          var style = _ref.style,\n              className = _ref.className,\n              classNames = _ref.classNames,\n              rest = _objectWithoutProperties(_ref, ['style', 'className', 'classNames']);\n\n          var _props = this.props,\n              prevStyle = _props.style,\n              prevClassName = _props.className,\n              prevClassNames = _props.classNames,\n              _ = _props.innerRef,\n              prevRest = _objectWithoutProperties(_props, ['style', 'className', 'classNames', 'innerRef']);\n\n          if (style !== prevStyle || className !== prevClassName || classNames !== prevClassNames) {\n            this.substyle = (0, _createSubstyle2.default)({ style: style, className: className, classNames: classNames }, this.context[_types.PROPS_DECORATOR_CONTEXT_NAME]);\n          }\n\n          if (typeof defaultStyle === 'function') {\n            if (shouldUpdate(rest, prevRest)) {\n              this.defaultStyle = defaultStyle(rest);\n            }\n          }\n\n          return true;\n        }\n      }, {\n        key: 'render',\n        value: function render() {\n          var _props2 = this.props,\n              innerRef = _props2.innerRef,\n              _0 = _props2.style,\n              _1 = _props2.className,\n              _2 = _props2.classNames,\n              rest = _objectWithoutProperties(_props2, ['innerRef', 'style', 'className', 'classNames']);\n\n          var EnhancedWrappedComponent = this.getWrappedComponent();\n          var modifiers = getModifiers ? getModifiers(rest) : [];\n          return (0, _react.createElement)(EnhancedWrappedComponent, _extends({\n            style: this.substyle(modifiers, this.defaultStyle || defaultStyle),\n            ref: isStatelessFunction(EnhancedWrappedComponent) ? undefined : // $FlowFixMe\n            this.setWrappedInstance\n          }, rest));\n        }\n      }, {\n        key: 'getWrappedComponent',\n        value: function getWrappedComponent() {\n          var _context$ENHANCER_CON = this.context[_types.ENHANCER_CONTEXT_NAME],\n              enhance = _context$ENHANCER_CON === undefined ? _utils.identity : _context$ENHANCER_CON;\n\n\n          if (this.memoizedEnhance !== enhance) {\n            this.memoizedEnhance = enhance;\n            this.enhancedWrappedComponent = enhance(WrappedComponent);\n            if (this.enhancedWrappedComponent.propTypes) {\n              this.enhancedWrappedComponent.propTypes = _extends({}, this.enhancedWrappedComponent.propTypes, {\n                style: _types.PropTypes.style\n              });\n            }\n          }\n\n          return this.enhancedWrappedComponent || WrappedComponent;\n        }\n      }, {\n        key: 'getWrappedInstance',\n        value: function getWrappedInstance() {\n          (0, _warning2.default)(true, '`getWrappedInstance()` is deprecated and will be removed with the next major release. ' + 'Instead, use the `innerRef` prop to get a ref to the wrapped instance.');\n          return this.wrappedInstance;\n        }\n      }]);\n\n      return WithDefaultStyle;\n    }(_react.Component);\n\n    var wrappedComponentName = WrappedComponent.displayName || WrappedComponent.name;\n    WithDefaultStyle.displayName = 'withDefaultStyle(' + wrappedComponentName + ')';\n\n    // define prop types based on WrappedComponent's prop types\n    WithDefaultStyle.propTypes = _extends({}, WrappedComponent.propTypes, _types.PropTypes);\n\n    WithDefaultStyle.contextTypes = _types.ContextTypes;\n\n    // expose WrappedComponent, e.g., for testing purposes\n    WithDefaultStyle.WrappedComponent = WrappedComponent;\n\n    return (0, _hoistNonReactStatics2.default)(WithDefaultStyle, WrappedComponent);\n  };\n};\n\nexports.default = createDefaultStyle;\nmodule.exports = exports['default'];","/**\n * Copyright 2014-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n'use strict';\n\n/**\n * Similar to invariant but only logs a warning if the condition is not met.\n * This can be used to log issues in development environments in critical\n * paths. Removing the logging code for production environments will keep the\n * same logic and follow the same code paths.\n */\n\nvar warning = function() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  warning = function(condition, format, args) {\n    var len = arguments.length;\n    args = new Array(len > 2 ? len - 2 : 0);\n    for (var key = 2; key < len; key++) {\n      args[key - 2] = arguments[key];\n    }\n    if (format === undefined) {\n      throw new Error(\n        '`warning(condition, format, ...args)` requires a warning ' +\n        'message argument'\n      );\n    }\n\n    if (format.length < 10 || (/^[s\\W]*$/).test(format)) {\n      throw new Error(\n        'The warning format should be able to uniquely identify this ' +\n        'warning. Please, use a more descriptive format than: ' + format\n      );\n    }\n\n    if (!condition) {\n      var argIndex = 0;\n      var message = 'Warning: ' +\n        format.replace(/%s/g, function() {\n          return args[argIndex++];\n        });\n      if (typeof console !== 'undefined') {\n        console.error(message);\n      }\n      try {\n        // This error was thrown as a convenience so that you can use this stack\n        // to find the callsite that caused this warning to fire.\n        throw new Error(message);\n      } catch(x) {}\n    }\n  };\n}\n\nmodule.exports = warning;\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar React = _interopRequireWildcard(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _types = require('./types');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar EnhancerProvider = function (_React$Component) {\n  _inherits(EnhancerProvider, _React$Component);\n\n  function EnhancerProvider() {\n    _classCallCheck(this, EnhancerProvider);\n\n    return _possibleConstructorReturn(this, (EnhancerProvider.__proto__ || Object.getPrototypeOf(EnhancerProvider)).apply(this, arguments));\n  }\n\n  _createClass(EnhancerProvider, [{\n    key: 'getChildContext',\n    value: function getChildContext() {\n      var _ref;\n\n      return _ref = {}, _defineProperty(_ref, _types.ENHANCER_CONTEXT_NAME, this.props.enhancer), _defineProperty(_ref, _types.PROPS_DECORATOR_CONTEXT_NAME, this.props.propsDecorator), _ref;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return React.Children.only(this.props.children);\n    }\n  }]);\n\n  return EnhancerProvider;\n}(React.Component);\n\nexports.default = EnhancerProvider;\n\n\nEnhancerProvider.propTypes = {\n  enhancer: _propTypes2.default.func,\n  propsDecorator: _propTypes2.default.func,\n  children: _propTypes2.default.element.isRequired\n};\n\nEnhancerProvider.childContextTypes = _types.ContextTypes;\n\nEnhancerProvider.displayName = 'EnhancerProvider';\nmodule.exports = exports['default'];","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}","export default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}","export default function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nexport default function _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}","import _toConsumableArray from '@babel/runtime/helpers/esm/toConsumableArray';\r\nimport _extends from '@babel/runtime/helpers/esm/extends';\r\nimport _classCallCheck from '@babel/runtime/helpers/esm/classCallCheck';\r\nimport _createClass from '@babel/runtime/helpers/esm/createClass';\r\nimport _possibleConstructorReturn from '@babel/runtime/helpers/esm/possibleConstructorReturn';\r\nimport _getPrototypeOf from '@babel/runtime/helpers/esm/getPrototypeOf';\r\nimport _assertThisInitialized from '@babel/runtime/helpers/esm/assertThisInitialized';\r\nimport _inherits from '@babel/runtime/helpers/esm/inherits';\r\nimport _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\r\nimport React, { Children, Component } from 'react';\r\nimport invariant from 'invariant';\r\nimport _slicedToArray from '@babel/runtime/helpers/esm/slicedToArray';\r\nimport PropTypes from 'prop-types';\r\nimport substyle, { defaultStyle } from 'substyle';\r\nimport ReactDOM from 'react-dom';\r\n\r\n// escape RegExp special characters https://stackoverflow.com/a/9310752/5142490\r\nvar escapeRegex = function escapeRegex(str) {\r\n  return str.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&');\r\n};\r\n\r\nvar PLACEHOLDERS = {\r\n  id: '__id__',\r\n  display: '__display__'\r\n};\r\n\r\nvar findPositionOfCapturingGroup = function findPositionOfCapturingGroup(markup, parameterName) {\r\n  invariant(parameterName === 'id' || parameterName === 'display', \"Second arg must be either \\\"id\\\" or \\\"display\\\", got: \\\"\".concat(parameterName, \"\\\"\")); // find positions of placeholders in the markup\r\n\r\n  var indexDisplay = markup.indexOf(PLACEHOLDERS.display);\r\n  var indexId = markup.indexOf(PLACEHOLDERS.id); // set indices to null if not found\r\n\r\n  if (indexDisplay < 0) indexDisplay = null;\r\n  if (indexId < 0) indexId = null; // markup must contain one of the mandatory placeholders\r\n\r\n  invariant(indexDisplay !== null || indexId !== null, \"The markup '\".concat(markup, \"' does not contain either of the placeholders '__id__' or '__display__'\"));\r\n\r\n  if (indexDisplay !== null && indexId !== null) {\r\n    // both placeholders are used, return 0 or 1 depending on the position of the requested parameter\r\n    return parameterName === 'id' && indexId <= indexDisplay || parameterName === 'display' && indexDisplay <= indexId ? 0 : 1;\r\n  } // just one placeholder is being used, we'll use the captured string for both parameters\r\n\r\n\r\n  return 0;\r\n};\r\n\r\nvar combineRegExps = function combineRegExps(regExps) {\r\n  var serializedRegexParser = /^\\/(.+)\\/(\\w+)?$/;\r\n  return new RegExp(regExps.map(function (regex) {\r\n    var _serializedRegexParse = serializedRegexParser.exec(regex.toString()),\r\n        _serializedRegexParse2 = _slicedToArray(_serializedRegexParse, 3),\r\n        regexString = _serializedRegexParse2[1],\r\n        regexFlags = _serializedRegexParse2[2];\r\n\r\n    invariant(!regexFlags, \"RegExp flags are not supported. Change /\".concat(regexString, \"/\").concat(regexFlags, \" into /\").concat(regexString, \"/\"));\r\n    return \"(\".concat(regexString, \")\");\r\n  }).join('|'), 'g');\r\n};\r\n\r\nvar countPlaceholders = function countPlaceholders(markup) {\r\n  var count = 0;\r\n  if (markup.indexOf('__id__') >= 0) count++;\r\n  if (markup.indexOf('__display__') >= 0) count++;\r\n  return count;\r\n};\r\n\r\nvar emptyFn = function emptyFn() {}; // Finds all occurrences of the markup in the value and calls the `markupIteratee` callback for each of them.\r\n// The optional `textIteratee` callback is called for each plain text ranges in between these markup occurrences.\r\n\r\n\r\nvar iterateMentionsMarkup = function iterateMentionsMarkup(value, config, markupIteratee) {\r\n  var textIteratee = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : emptyFn;\r\n  var regex = combineRegExps(config.map(function (c) {\r\n    return c.regex;\r\n  }));\r\n  var accOffset = 2; // first is whole match, second is the for the capturing group of first regexp component\r\n\r\n  var captureGroupOffsets = config.map(function (_ref) {\r\n    var markup = _ref.markup;\r\n    var result = accOffset; // + 1 is for the capturing group we add around each regexp component in combineRegExps\r\n\r\n    accOffset += countPlaceholders(markup) + 1;\r\n    return result;\r\n  });\r\n  var match;\r\n  var start = 0;\r\n  var currentPlainTextIndex = 0; // detect all mention markup occurrences in the value and iterate the matches\r\n\r\n  while ((match = regex.exec(value)) !== null) {\r\n    var offset = captureGroupOffsets.find(function (o) {\r\n      return !!match[o];\r\n    }); // eslint-disable-line no-loop-func\r\n\r\n    var mentionChildIndex = captureGroupOffsets.indexOf(offset);\r\n    var _config$mentionChildI = config[mentionChildIndex],\r\n        markup = _config$mentionChildI.markup,\r\n        displayTransform = _config$mentionChildI.displayTransform;\r\n    var idPos = offset + findPositionOfCapturingGroup(markup, 'id');\r\n    var displayPos = offset + findPositionOfCapturingGroup(markup, 'display');\r\n    var id = match[idPos];\r\n    var display = displayTransform(id, match[displayPos]);\r\n    var substr = value.substring(start, match.index);\r\n    textIteratee(substr, start, currentPlainTextIndex);\r\n    currentPlainTextIndex += substr.length;\r\n    markupIteratee(match[0], match.index, currentPlainTextIndex, id, display, mentionChildIndex, start);\r\n    currentPlainTextIndex += display.length;\r\n    start = regex.lastIndex;\r\n  }\r\n\r\n  if (start < value.length) {\r\n    textIteratee(value.substring(start), start, currentPlainTextIndex);\r\n  }\r\n};\r\n\r\nvar getPlainText = function getPlainText(value, config) {\r\n  var result = '';\r\n  iterateMentionsMarkup(value, config, function (match, index, plainTextIndex, id, display) {\r\n    result += display;\r\n  }, function (plainText) {\r\n    result += plainText;\r\n  });\r\n  return result;\r\n};\r\n\r\n// in the marked up value string.\r\n// If the passed character index lies inside a mention, the value of `inMarkupCorrection` defines the\r\n// correction to apply:\r\n//   - 'START' to return the index of the mention markup's first char (default)\r\n//   - 'END' to return the index after its last char\r\n//   - 'NULL' to return null\r\n\r\nvar mapPlainTextIndex = function mapPlainTextIndex(value, config, indexInPlainText) {\r\n  var inMarkupCorrection = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'START';\r\n\r\n  if (typeof indexInPlainText !== 'number') {\r\n    return indexInPlainText;\r\n  }\r\n\r\n  var result;\r\n\r\n  var textIteratee = function textIteratee(substr, index, substrPlainTextIndex) {\r\n    if (result !== undefined) return;\r\n\r\n    if (substrPlainTextIndex + substr.length >= indexInPlainText) {\r\n      // found the corresponding position in the current plain text range\r\n      result = index + indexInPlainText - substrPlainTextIndex;\r\n    }\r\n  };\r\n\r\n  var markupIteratee = function markupIteratee(markup, index, mentionPlainTextIndex, id, display, childIndex, lastMentionEndIndex) {\r\n    if (result !== undefined) return;\r\n\r\n    if (mentionPlainTextIndex + display.length > indexInPlainText) {\r\n      // found the corresponding position inside current match,\r\n      // return the index of the first or after the last char of the matching markup\r\n      // depending on whether the `inMarkupCorrection`\r\n      if (inMarkupCorrection === 'NULL') {\r\n        result = null;\r\n      } else {\r\n        result = index + (inMarkupCorrection === 'END' ? markup.length : 0);\r\n      }\r\n    }\r\n  };\r\n\r\n  iterateMentionsMarkup(value, config, markupIteratee, textIteratee); // when a mention is at the end of the value and we want to get the caret position\r\n  // at the end of the string, result is undefined\r\n\r\n  return result === undefined ? value.length : result;\r\n};\r\n\r\nvar spliceString = function spliceString(str, start, end, insert) {\r\n  return str.substring(0, start) + insert + str.substring(end);\r\n};\r\n\r\n// guided by the textarea text selection ranges before and after the change\r\n\r\nvar applyChangeToValue = function applyChangeToValue(value, plainTextValue, _ref, config) {\r\n  var selectionStartBefore = _ref.selectionStartBefore,\r\n      selectionEndBefore = _ref.selectionEndBefore,\r\n      selectionEndAfter = _ref.selectionEndAfter;\r\n  var oldPlainTextValue = getPlainText(value, config);\r\n  var lengthDelta = oldPlainTextValue.length - plainTextValue.length;\r\n\r\n  if (selectionStartBefore === 'undefined') {\r\n    selectionStartBefore = selectionEndAfter + lengthDelta;\r\n  }\r\n\r\n  if (selectionEndBefore === 'undefined') {\r\n    selectionEndBefore = selectionStartBefore;\r\n  } // Fixes an issue with replacing combined characters for complex input. Eg like acented letters on OSX\r\n\r\n\r\n  if (selectionStartBefore === selectionEndBefore && selectionEndBefore === selectionEndAfter && oldPlainTextValue.length === plainTextValue.length) {\r\n    selectionStartBefore = selectionStartBefore - 1;\r\n  } // extract the insertion from the new plain text value\r\n\r\n\r\n  var insert = plainTextValue.slice(selectionStartBefore, selectionEndAfter); // handling for Backspace key with no range selection\r\n\r\n  var spliceStart = Math.min(selectionStartBefore, selectionEndAfter);\r\n  var spliceEnd = selectionEndBefore;\r\n\r\n  if (selectionStartBefore === selectionEndAfter) {\r\n    // handling for Delete key with no range selection\r\n    spliceEnd = Math.max(selectionEndBefore, selectionStartBefore + lengthDelta);\r\n  }\r\n\r\n  var mappedSpliceStart = mapPlainTextIndex(value, config, spliceStart, 'START');\r\n  var mappedSpliceEnd = mapPlainTextIndex(value, config, spliceEnd, 'END');\r\n  var controlSpliceStart = mapPlainTextIndex(value, config, spliceStart, 'NULL');\r\n  var controlSpliceEnd = mapPlainTextIndex(value, config, spliceEnd, 'NULL');\r\n  var willRemoveMention = controlSpliceStart === null || controlSpliceEnd === null;\r\n  var newValue = spliceString(value, mappedSpliceStart, mappedSpliceEnd, insert);\r\n\r\n  if (!willRemoveMention) {\r\n    // test for auto-completion changes\r\n    var controlPlainTextValue = getPlainText(newValue, config);\r\n\r\n    if (controlPlainTextValue !== plainTextValue) {\r\n      // some auto-correction is going on\r\n      // find start of diff\r\n      spliceStart = 0;\r\n\r\n      while (plainTextValue[spliceStart] === controlPlainTextValue[spliceStart]) {\r\n        spliceStart++;\r\n      } // extract auto-corrected insertion\r\n\r\n\r\n      insert = plainTextValue.slice(spliceStart, selectionEndAfter); // find index of the unchanged remainder\r\n\r\n      spliceEnd = oldPlainTextValue.lastIndexOf(plainTextValue.substring(selectionEndAfter)); // re-map the corrected indices\r\n\r\n      mappedSpliceStart = mapPlainTextIndex(value, config, spliceStart, 'START');\r\n      mappedSpliceEnd = mapPlainTextIndex(value, config, spliceEnd, 'END');\r\n      newValue = spliceString(value, mappedSpliceStart, mappedSpliceEnd, insert);\r\n    }\r\n  }\r\n\r\n  return newValue;\r\n};\r\n\r\n// returns a the index of of the first char of the mention in the plain text.\r\n// If indexInPlainText does not lie inside a mention, returns indexInPlainText.\r\n\r\nvar findStartOfMentionInPlainText = function findStartOfMentionInPlainText(value, config, indexInPlainText) {\r\n  var result = indexInPlainText;\r\n  var foundMention = false;\r\n\r\n  var markupIteratee = function markupIteratee(markup, index, mentionPlainTextIndex, id, display, childIndex, lastMentionEndIndex) {\r\n    if (mentionPlainTextIndex <= indexInPlainText && mentionPlainTextIndex + display.length > indexInPlainText) {\r\n      result = mentionPlainTextIndex;\r\n      foundMention = true;\r\n    }\r\n  };\r\n\r\n  iterateMentionsMarkup(value, config, markupIteratee);\r\n\r\n  if (foundMention) {\r\n    return result;\r\n  }\r\n};\r\n\r\nvar getMentions = function getMentions(value, config) {\r\n  var mentions = [];\r\n  iterateMentionsMarkup(value, config, function (match, index, plainTextIndex, id, display, childIndex, start) {\r\n    mentions.push({\r\n      id: id,\r\n      display: display,\r\n      childIndex: childIndex,\r\n      index: index,\r\n      plainTextIndex: plainTextIndex\r\n    });\r\n  });\r\n  return mentions;\r\n};\r\n\r\nvar countSuggestions = function countSuggestions(suggestions) {\r\n  return Object.values(suggestions).reduce(function (acc, _ref) {\r\n    var results = _ref.results;\r\n    return acc + results.length;\r\n  }, 0);\r\n};\r\n\r\nvar getEndOfLastMention = function getEndOfLastMention(value, config) {\r\n  var mentions = getMentions(value, config);\r\n  var lastMention = mentions[mentions.length - 1];\r\n  return lastMention ? lastMention.plainTextIndex + lastMention.display.length : 0;\r\n};\r\n\r\nvar markupToRegex = function markupToRegex(markup) {\r\n  var escapedMarkup = escapeRegex(markup);\r\n  var charAfterDisplay = markup[markup.indexOf(PLACEHOLDERS.display) + PLACEHOLDERS.display.length];\r\n  var charAfterId = markup[markup.indexOf(PLACEHOLDERS.display) + PLACEHOLDERS.display.length];\r\n  return new RegExp(escapedMarkup.replace(PLACEHOLDERS.display, \"([^\".concat(escapeRegex(charAfterDisplay || ''), \"]+?)\")).replace(PLACEHOLDERS.id, \"([^\".concat(escapeRegex(charAfterId || ''), \"]+?)\")));\r\n};\r\n\r\nvar readConfigFromChildren = function readConfigFromChildren(children) {\r\n  return Children.toArray(children).map(function (_ref) {\r\n    var _ref$props = _ref.props,\r\n        markup = _ref$props.markup,\r\n        regex = _ref$props.regex,\r\n        displayTransform = _ref$props.displayTransform;\r\n    return {\r\n      markup: markup,\r\n      regex: regex ? coerceCapturingGroups(regex, markup) : markupToRegex(markup),\r\n      displayTransform: displayTransform || function (id, display) {\r\n        return display || id;\r\n      }\r\n    };\r\n  });\r\n}; // make sure that the custom regex defines the correct number of capturing groups\r\n\r\n\r\nvar coerceCapturingGroups = function coerceCapturingGroups(regex, markup) {\r\n  var numberOfGroups = new RegExp(regex.toString() + '|').exec('').length - 1;\r\n  var numberOfPlaceholders = countPlaceholders(markup);\r\n  invariant(numberOfGroups === numberOfPlaceholders, \"Number of capturing groups in RegExp \".concat(regex.toString(), \" (\").concat(numberOfGroups, \") does not match the number of placeholders in the markup '\").concat(markup, \"' (\").concat(numberOfPlaceholders, \")\"));\r\n  return regex;\r\n};\r\n\r\nvar makeMentionsMarkup = function makeMentionsMarkup(markup, id, display) {\r\n  return markup.replace(PLACEHOLDERS.id, id).replace(PLACEHOLDERS.display, display);\r\n};\r\n\r\n// This contains all the latin letters and the regex that match these letters with diacritics\r\n// https://stackoverflow.com/questions/990904/remove-accents-diacritics-in-a-string-in-javascript\r\nvar lettersDiacritics = [{\r\n  base: 'A',\r\n  letters: /(&#65;|&#9398;|&#65313;|&#192;|&#193;|&#194;|&#7846;|&#7844;|&#7850;|&#7848;|&#195;|&#256;|&#258;|&#7856;|&#7854;|&#7860;|&#7858;|&#550;|&#480;|&#196;|&#478;|&#7842;|&#197;|&#506;|&#461;|&#512;|&#514;|&#7840;|&#7852;|&#7862;|&#7680;|&#260;|&#570;|&#11375;|[\\u0041\\u24B6\\uFF21\\u00C0\\u00C1\\u00C2\\u1EA6\\u1EA4\\u1EAA\\u1EA8\\u00C3\\u0100\\u0102\\u1EB0\\u1EAE\\u1EB4\\u1EB2\\u0226\\u01E0\\u00C4\\u01DE\\u1EA2\\u00C5\\u01FA\\u01CD\\u0200\\u0202\\u1EA0\\u1EAC\\u1EB6\\u1E00\\u0104\\u023A\\u2C6F])/g\r\n}, {\r\n  base: 'AA',\r\n  letters: /(&#42802;|[\\uA732])/g\r\n}, {\r\n  base: 'AE',\r\n  letters: /(&#198;|&#508;|&#482;|[\\u00C6\\u01FC\\u01E2])/g\r\n}, {\r\n  base: 'AO',\r\n  letters: /(&#42804;|[\\uA734])/g\r\n}, {\r\n  base: 'AU',\r\n  letters: /(&#42806;|[\\uA736])/g\r\n}, {\r\n  base: 'AV',\r\n  letters: /(&#42808;|&#42810;|[\\uA738\\uA73A])/g\r\n}, {\r\n  base: 'AY',\r\n  letters: /(&#42812;|[\\uA73C])/g\r\n}, {\r\n  base: 'B',\r\n  letters: /(&#66;|&#9399;|&#65314;|&#7682;|&#7684;|&#7686;|&#579;|&#386;|&#385;|[\\u0042\\u24B7\\uFF22\\u1E02\\u1E04\\u1E06\\u0243\\u0182\\u0181])/g\r\n}, {\r\n  base: 'C',\r\n  letters: /(&#67;|&#9400;|&#65315;|&#262;|&#264;|&#266;|&#268;|&#199;|&#7688;|&#391;|&#571;|&#42814;|[\\u0043\\u24B8\\uFF23\\u0106\\u0108\\u010A\\u010C\\u00C7\\u1E08\\u0187\\u023B\\uA73E])/g\r\n}, {\r\n  base: 'D',\r\n  letters: /(&#68;|&#9401;|&#65316;|&#7690;|&#270;|&#7692;|&#7696;|&#7698;|&#7694;|&#272;|&#395;|&#394;|&#393;|&#42873;|&#208;|[\\u0044\\u24B9\\uFF24\\u1E0A\\u010E\\u1E0C\\u1E10\\u1E12\\u1E0E\\u0110\\u018B\\u018A\\u0189\\uA779\\u00D0])/g\r\n}, {\r\n  base: 'DZ',\r\n  letters: /(&#497;|&#452;|[\\u01F1\\u01C4])/g\r\n}, {\r\n  base: 'Dz',\r\n  letters: /(&#498;|&#453;|[\\u01F2\\u01C5])/g\r\n}, {\r\n  base: 'E',\r\n  letters: /(&#69;|&#9402;|&#65317;|&#200;|&#201;|&#202;|&#7872;|&#7870;|&#7876;|&#7874;|&#7868;|&#274;|&#7700;|&#7702;|&#276;|&#278;|&#203;|&#7866;|&#282;|&#516;|&#518;|&#7864;|&#7878;|&#552;|&#7708;|&#280;|&#7704;|&#7706;|&#400;|&#398;|[\\u0045\\u24BA\\uFF25\\u00C8\\u00C9\\u00CA\\u1EC0\\u1EBE\\u1EC4\\u1EC2\\u1EBC\\u0112\\u1E14\\u1E16\\u0114\\u0116\\u00CB\\u1EBA\\u011A\\u0204\\u0206\\u1EB8\\u1EC6\\u0228\\u1E1C\\u0118\\u1E18\\u1E1A\\u0190\\u018E])/g\r\n}, {\r\n  base: 'F',\r\n  letters: /(&#70;|&#9403;|&#65318;|&#7710;|&#401;|&#42875;|[\\u0046\\u24BB\\uFF26\\u1E1E\\u0191\\uA77B])/g\r\n}, {\r\n  base: 'G',\r\n  letters: /(&#71;|&#9404;|&#65319;|&#500;|&#284;|&#7712;|&#286;|&#288;|&#486;|&#290;|&#484;|&#403;|&#42912;|&#42877;|&#42878;|[\\u0047\\u24BC\\uFF27\\u01F4\\u011C\\u1E20\\u011E\\u0120\\u01E6\\u0122\\u01E4\\u0193\\uA7A0\\uA77D\\uA77E])/g\r\n}, {\r\n  base: 'H',\r\n  letters: /(&#72;|&#9405;|&#65320;|&#292;|&#7714;|&#7718;|&#542;|&#7716;|&#7720;|&#7722;|&#294;|&#11367;|&#11381;|&#42893;|[\\u0048\\u24BD\\uFF28\\u0124\\u1E22\\u1E26\\u021E\\u1E24\\u1E28\\u1E2A\\u0126\\u2C67\\u2C75\\uA78D])/g\r\n}, {\r\n  base: 'I',\r\n  letters: /(&#73;|&#9406;|&#65321;|&#204;|&#205;|&#206;|&#296;|&#298;|&#300;|&#304;|&#207;|&#7726;|&#7880;|&#463;|&#520;|&#522;|&#7882;|&#302;|&#7724;|&#407;|[\\u0049\\u24BE\\uFF29\\u00CC\\u00CD\\u00CE\\u0128\\u012A\\u012C\\u0130\\u00CF\\u1E2E\\u1EC8\\u01CF\\u0208\\u020A\\u1ECA\\u012E\\u1E2C\\u0197])/g\r\n}, {\r\n  base: 'J',\r\n  letters: /(&#74;|&#9407;|&#65322;|&#308;|&#584;|[\\u004A\\u24BF\\uFF2A\\u0134\\u0248])/g\r\n}, {\r\n  base: 'K',\r\n  letters: /(&#75;|&#9408;|&#65323;|&#7728;|&#488;|&#7730;|&#310;|&#7732;|&#408;|&#11369;|&#42816;|&#42818;|&#42820;|&#42914;|[\\u004B\\u24C0\\uFF2B\\u1E30\\u01E8\\u1E32\\u0136\\u1E34\\u0198\\u2C69\\uA740\\uA742\\uA744\\uA7A2])/g\r\n}, {\r\n  base: 'L',\r\n  letters: /(&#76;|&#9409;|&#65324;|&#319;|&#313;|&#317;|&#7734;|&#7736;|&#315;|&#7740;|&#7738;|&#321;|&#573;|&#11362;|&#11360;|&#42824;|&#42822;|&#42880;|[\\u004C\\u24C1\\uFF2C\\u013F\\u0139\\u013D\\u1E36\\u1E38\\u013B\\u1E3C\\u1E3A\\u0141\\u023D\\u2C62\\u2C60\\uA748\\uA746\\uA780])/g\r\n}, {\r\n  base: 'LJ',\r\n  letters: /(&#455;|[\\u01C7])/g\r\n}, {\r\n  base: 'Lj',\r\n  letters: /(&#456;|[\\u01C8])/g\r\n}, {\r\n  base: 'M',\r\n  letters: /(&#77;|&#9410;|&#65325;|&#7742;|&#7744;|&#7746;|&#11374;|&#412;|[\\u004D\\u24C2\\uFF2D\\u1E3E\\u1E40\\u1E42\\u2C6E\\u019C])/g\r\n}, {\r\n  base: 'N',\r\n  letters: /(&#78;|&#9411;|&#65326;|&#504;|&#323;|&#209;|&#7748;|&#327;|&#7750;|&#325;|&#7754;|&#7752;|&#544;|&#413;|&#42896;|&#42916;|&#330;|[\\u004E\\u24C3\\uFF2E\\u01F8\\u0143\\u00D1\\u1E44\\u0147\\u1E46\\u0145\\u1E4A\\u1E48\\u0220\\u019D\\uA790\\uA7A4\\u014A])/g\r\n}, {\r\n  base: 'NJ',\r\n  letters: /(&#458;|[\\u01CA])/g\r\n}, {\r\n  base: 'Nj',\r\n  letters: /(&#459;|[\\u01CB])/g\r\n}, {\r\n  base: 'O',\r\n  letters: /(&#79;|&#9412;|&#65327;|&#210;|&#211;|&#212;|&#7890;|&#7888;|&#7894;|&#7892;|&#213;|&#7756;|&#556;|&#7758;|&#332;|&#7760;|&#7762;|&#334;|&#558;|&#560;|&#214;|&#554;|&#7886;|&#336;|&#465;|&#524;|&#526;|&#416;|&#7900;|&#7898;|&#7904;|&#7902;|&#7906;|&#7884;|&#7896;|&#490;|&#492;|&#216;|&#510;|&#390;|&#415;|&#42826;|&#42828;|[\\u004F\\u24C4\\uFF2F\\u00D2\\u00D3\\u00D4\\u1ED2\\u1ED0\\u1ED6\\u1ED4\\u00D5\\u1E4C\\u022C\\u1E4E\\u014C\\u1E50\\u1E52\\u014E\\u022E\\u0230\\u00D6\\u022A\\u1ECE\\u0150\\u01D1\\u020C\\u020E\\u01A0\\u1EDC\\u1EDA\\u1EE0\\u1EDE\\u1EE2\\u1ECC\\u1ED8\\u01EA\\u01EC\\u00D8\\u01FE\\u0186\\u019F\\uA74A\\uA74C])/g\r\n}, {\r\n  base: 'OE',\r\n  letters: /(&#338;|[\\u0152])/g\r\n}, {\r\n  base: 'OI',\r\n  letters: /(&#418;|[\\u01A2])/g\r\n}, {\r\n  base: 'OO',\r\n  letters: /(&#42830;|[\\uA74E])/g\r\n}, {\r\n  base: 'OU',\r\n  letters: /(&#546;|[\\u0222])/g\r\n}, {\r\n  base: 'P',\r\n  letters: /(&#80;|&#9413;|&#65328;|&#7764;|&#7766;|&#420;|&#11363;|&#42832;|&#42834;|&#42836;|[\\u0050\\u24C5\\uFF30\\u1E54\\u1E56\\u01A4\\u2C63\\uA750\\uA752\\uA754])/g\r\n}, {\r\n  base: 'Q',\r\n  letters: /(&#81;|&#9414;|&#65329;|&#42838;|&#42840;|&#586;|[\\u0051\\u24C6\\uFF31\\uA756\\uA758\\u024A])/g\r\n}, {\r\n  base: 'R',\r\n  letters: /(&#82;|&#9415;|&#65330;|&#340;|&#7768;|&#344;|&#528;|&#530;|&#7770;|&#7772;|&#342;|&#7774;|&#588;|&#11364;|&#42842;|&#42918;|&#42882;|[\\u0052\\u24C7\\uFF32\\u0154\\u1E58\\u0158\\u0210\\u0212\\u1E5A\\u1E5C\\u0156\\u1E5E\\u024C\\u2C64\\uA75A\\uA7A6\\uA782])/g\r\n}, {\r\n  base: 'S',\r\n  letters: /(&#83;|&#9416;|&#65331;|&#7838;|&#346;|&#7780;|&#348;|&#7776;|&#352;|&#7782;|&#7778;|&#7784;|&#536;|&#350;|&#11390;|&#42920;|&#42884;|[\\u0053\\u24C8\\uFF33\\u1E9E\\u015A\\u1E64\\u015C\\u1E60\\u0160\\u1E66\\u1E62\\u1E68\\u0218\\u015E\\u2C7E\\uA7A8\\uA784])/g\r\n}, {\r\n  base: 'T',\r\n  letters: /(&#84;|&#9417;|&#65332;|&#7786;|&#356;|&#7788;|&#538;|&#354;|&#7792;|&#7790;|&#358;|&#428;|&#430;|&#574;|&#42886;|[\\u0054\\u24C9\\uFF34\\u1E6A\\u0164\\u1E6C\\u021A\\u0162\\u1E70\\u1E6E\\u0166\\u01AC\\u01AE\\u023E\\uA786])/g\r\n}, {\r\n  base: 'TH',\r\n  letters: /(&#222;|[\\u00DE])/g\r\n}, {\r\n  base: 'TZ',\r\n  letters: /(&#42792;|[\\uA728])/g\r\n}, {\r\n  base: 'U',\r\n  letters: /(&#85;|&#9418;|&#65333;|&#217;|&#218;|&#219;|&#360;|&#7800;|&#362;|&#7802;|&#364;|&#220;|&#475;|&#471;|&#469;|&#473;|&#7910;|&#366;|&#368;|&#467;|&#532;|&#534;|&#431;|&#7914;|&#7912;|&#7918;|&#7916;|&#7920;|&#7908;|&#7794;|&#370;|&#7798;|&#7796;|&#580;|[\\u0055\\u24CA\\uFF35\\u00D9\\u00DA\\u00DB\\u0168\\u1E78\\u016A\\u1E7A\\u016C\\u00DC\\u01DB\\u01D7\\u01D5\\u01D9\\u1EE6\\u016E\\u0170\\u01D3\\u0214\\u0216\\u01AF\\u1EEA\\u1EE8\\u1EEE\\u1EEC\\u1EF0\\u1EE4\\u1E72\\u0172\\u1E76\\u1E74\\u0244])/g\r\n}, {\r\n  base: 'V',\r\n  letters: /(&#86;|&#9419;|&#65334;|&#7804;|&#7806;|&#434;|&#42846;|&#581;|[\\u0056\\u24CB\\uFF36\\u1E7C\\u1E7E\\u01B2\\uA75E\\u0245])/g\r\n}, {\r\n  base: 'VY',\r\n  letters: /(&#42848;|[\\uA760])/g\r\n}, {\r\n  base: 'W',\r\n  letters: /(&#87;|&#9420;|&#65335;|&#7808;|&#7810;|&#372;|&#7814;|&#7812;|&#7816;|&#11378;|[\\u0057\\u24CC\\uFF37\\u1E80\\u1E82\\u0174\\u1E86\\u1E84\\u1E88\\u2C72])/g\r\n}, {\r\n  base: 'X',\r\n  letters: /(&#88;|&#9421;|&#65336;|&#7818;|&#7820;|[\\u0058\\u24CD\\uFF38\\u1E8A\\u1E8C])/g\r\n}, {\r\n  base: 'Y',\r\n  letters: /(&#89;|&#9422;|&#65337;|&#7922;|&#221;|&#374;|&#7928;|&#562;|&#7822;|&#376;|&#7926;|&#7924;|&#435;|&#590;|&#7934;|[\\u0059\\u24CE\\uFF39\\u1EF2\\u00DD\\u0176\\u1EF8\\u0232\\u1E8E\\u0178\\u1EF6\\u1EF4\\u01B3\\u024E\\u1EFE])/g\r\n}, {\r\n  base: 'Z',\r\n  letters: /(&#90;|&#9423;|&#65338;|&#377;|&#7824;|&#379;|&#381;|&#7826;|&#7828;|&#437;|&#548;|&#11391;|&#11371;|&#42850;|[\\u005A\\u24CF\\uFF3A\\u0179\\u1E90\\u017B\\u017D\\u1E92\\u1E94\\u01B5\\u0224\\u2C7F\\u2C6B\\uA762])/g\r\n}, {\r\n  base: 'a',\r\n  letters: /(&#97;|&#9424;|&#65345;|&#7834;|&#224;|&#225;|&#226;|&#7847;|&#7845;|&#7851;|&#7849;|&#227;|&#257;|&#259;|&#7857;|&#7855;|&#7861;|&#7859;|&#551;|&#481;|&#228;|&#479;|&#7843;|&#229;|&#507;|&#462;|&#513;|&#515;|&#7841;|&#7853;|&#7863;|&#7681;|&#261;|&#11365;|&#592;|[\\u0061\\u24D0\\uFF41\\u1E9A\\u00E0\\u00E1\\u00E2\\u1EA7\\u1EA5\\u1EAB\\u1EA9\\u00E3\\u0101\\u0103\\u1EB1\\u1EAF\\u1EB5\\u1EB3\\u0227\\u01E1\\u00E4\\u01DF\\u1EA3\\u00E5\\u01FB\\u01CE\\u0201\\u0203\\u1EA1\\u1EAD\\u1EB7\\u1E01\\u0105\\u2C65\\u0250])/g\r\n}, {\r\n  base: 'aa',\r\n  letters: /(&#42803;|[\\uA733])/g\r\n}, {\r\n  base: 'ae',\r\n  letters: /(&#230;|&#509;|&#483;|[\\u00E6\\u01FD\\u01E3])/g\r\n}, {\r\n  base: 'ao',\r\n  letters: /(&#42805;|[\\uA735])/g\r\n}, {\r\n  base: 'au',\r\n  letters: /(&#42807;|[\\uA737])/g\r\n}, {\r\n  base: 'av',\r\n  letters: /(&#42809;|&#42811;|[\\uA739\\uA73B])/g\r\n}, {\r\n  base: 'ay',\r\n  letters: /(&#42813;|[\\uA73D])/g\r\n}, {\r\n  base: 'b',\r\n  letters: /(&#98;|&#9425;|&#65346;|&#7683;|&#7685;|&#7687;|&#384;|&#387;|&#595;|[\\u0062\\u24D1\\uFF42\\u1E03\\u1E05\\u1E07\\u0180\\u0183\\u0253])/g\r\n}, {\r\n  base: 'c',\r\n  letters: /(&#99;|&#9426;|&#65347;|&#263;|&#265;|&#267;|&#269;|&#231;|&#7689;|&#392;|&#572;|&#42815;|&#8580;|[\\u0063\\u24D2\\uFF43\\u0107\\u0109\\u010B\\u010D\\u00E7\\u1E09\\u0188\\u023C\\uA73F\\u2184])/g\r\n}, {\r\n  base: 'd',\r\n  letters: /(&#100;|&#9427;|&#65348;|&#7691;|&#271;|&#7693;|&#7697;|&#7699;|&#7695;|&#273;|&#396;|&#598;|&#599;|&#42874;|&#240;|[\\u0064\\u24D3\\uFF44\\u1E0B\\u010F\\u1E0D\\u1E11\\u1E13\\u1E0F\\u0111\\u018C\\u0256\\u0257\\uA77A\\u00F0])/g\r\n}, {\r\n  base: 'dz',\r\n  letters: /(&#499;|&#454;|[\\u01F3\\u01C6])/g\r\n}, {\r\n  base: 'e',\r\n  letters: /(&#101;|&#9428;|&#65349;|&#232;|&#233;|&#234;|&#7873;|&#7871;|&#7877;|&#7875;|&#7869;|&#275;|&#7701;|&#7703;|&#277;|&#279;|&#235;|&#7867;|&#283;|&#517;|&#519;|&#7865;|&#7879;|&#553;|&#7709;|&#281;|&#7705;|&#7707;|&#583;|&#603;|&#477;|[\\u0065\\u24D4\\uFF45\\u00E8\\u00E9\\u00EA\\u1EC1\\u1EBF\\u1EC5\\u1EC3\\u1EBD\\u0113\\u1E15\\u1E17\\u0115\\u0117\\u00EB\\u1EBB\\u011B\\u0205\\u0207\\u1EB9\\u1EC7\\u0229\\u1E1D\\u0119\\u1E19\\u1E1B\\u0247\\u025B\\u01DD])/g\r\n}, {\r\n  base: 'f',\r\n  letters: /(&#102;|&#9429;|&#65350;|&#7711;|&#402;|&#42876;|[\\u0066\\u24D5\\uFF46\\u1E1F\\u0192\\uA77C])/g\r\n}, {\r\n  base: 'g',\r\n  letters: /(&#103;|&#9430;|&#65351;|&#501;|&#285;|&#7713;|&#287;|&#289;|&#487;|&#291;|&#485;|&#608;|&#42913;|&#7545;|&#42879;|[\\u0067\\u24D6\\uFF47\\u01F5\\u011D\\u1E21\\u011F\\u0121\\u01E7\\u0123\\u01E5\\u0260\\uA7A1\\u1D79\\uA77F])/g\r\n}, {\r\n  base: 'h',\r\n  letters: /(&#104;|&#9431;|&#65352;|&#293;|&#7715;|&#7719;|&#543;|&#7717;|&#7721;|&#7723;|&#7830;|&#295;|&#11368;|&#11382;|&#613;|[\\u0068\\u24D7\\uFF48\\u0125\\u1E23\\u1E27\\u021F\\u1E25\\u1E29\\u1E2B\\u1E96\\u0127\\u2C68\\u2C76\\u0265])/g\r\n}, {\r\n  base: 'hv',\r\n  letters: /(&#405;|[\\u0195])/g\r\n}, {\r\n  base: 'i',\r\n  letters: /(&#105;|&#9432;|&#65353;|&#236;|&#237;|&#238;|&#297;|&#299;|&#301;|&#239;|&#7727;|&#7881;|&#464;|&#521;|&#523;|&#7883;|&#303;|&#7725;|&#616;|&#305;|[\\u0069\\u24D8\\uFF49\\u00EC\\u00ED\\u00EE\\u0129\\u012B\\u012D\\u00EF\\u1E2F\\u1EC9\\u01D0\\u0209\\u020B\\u1ECB\\u012F\\u1E2D\\u0268\\u0131])/g\r\n}, {\r\n  base: 'ij',\r\n  letters: /(&#307;|[\\u0133])/g\r\n}, {\r\n  base: 'j',\r\n  letters: /(&#106;|&#9433;|&#65354;|&#309;|&#496;|&#585;|[\\u006A\\u24D9\\uFF4A\\u0135\\u01F0\\u0249])/g\r\n}, {\r\n  base: 'k',\r\n  letters: /(&#107;|&#9434;|&#65355;|&#7729;|&#489;|&#7731;|&#311;|&#7733;|&#409;|&#11370;|&#42817;|&#42819;|&#42821;|&#42915;|[\\u006B\\u24DA\\uFF4B\\u1E31\\u01E9\\u1E33\\u0137\\u1E35\\u0199\\u2C6A\\uA741\\uA743\\uA745\\uA7A3])/g\r\n}, {\r\n  base: 'l',\r\n  letters: /(&#108;|&#9435;|&#65356;|&#320;|&#314;|&#318;|&#7735;|&#7737;|&#316;|&#7741;|&#7739;|&#322;|&#410;|&#619;|&#11361;|&#42825;|&#42881;|&#42823;|[\\u006C\\u24DB\\uFF4C\\u0140\\u013A\\u013E\\u1E37\\u1E39\\u013C\\u1E3D\\u1E3B\\u0142\\u019A\\u026B\\u2C61\\uA749\\uA781\\uA747])/g\r\n}, {\r\n  base: 'lj',\r\n  letters: /(&#457;|[\\u01C9])/g\r\n}, {\r\n  base: 'm',\r\n  letters: /(&#109;|&#9436;|&#65357;|&#7743;|&#7745;|&#7747;|&#625;|&#623;|[\\u006D\\u24DC\\uFF4D\\u1E3F\\u1E41\\u1E43\\u0271\\u026F])/g\r\n}, {\r\n  base: 'n',\r\n  letters: /(&#110;|&#9437;|&#65358;|&#505;|&#324;|&#241;|&#7749;|&#328;|&#7751;|&#326;|&#7755;|&#7753;|&#414;|&#626;|&#329;|&#42897;|&#42917;|&#331;|[\\u006E\\u24DD\\uFF4E\\u01F9\\u0144\\u00F1\\u1E45\\u0148\\u1E47\\u0146\\u1E4B\\u1E49\\u019E\\u0272\\u0149\\uA791\\uA7A5\\u014B])/g\r\n}, {\r\n  base: 'nj',\r\n  letters: /(&#460;|[\\u01CC])/g\r\n}, {\r\n  base: 'o',\r\n  letters: /(&#111;|&#9438;|&#65359;|&#242;|&#243;|&#244;|&#7891;|&#7889;|&#7895;|&#7893;|&#245;|&#7757;|&#557;|&#7759;|&#333;|&#7761;|&#7763;|&#335;|&#559;|&#561;|&#246;|&#555;|&#7887;|&#337;|&#466;|&#525;|&#527;|&#417;|&#7901;|&#7899;|&#7905;|&#7903;|&#7907;|&#7885;|&#7897;|&#491;|&#493;|&#248;|&#511;|&#596;|&#42827;|&#42829;|&#629;|[\\u006F\\u24DE\\uFF4F\\u00F2\\u00F3\\u00F4\\u1ED3\\u1ED1\\u1ED7\\u1ED5\\u00F5\\u1E4D\\u022D\\u1E4F\\u014D\\u1E51\\u1E53\\u014F\\u022F\\u0231\\u00F6\\u022B\\u1ECF\\u0151\\u01D2\\u020D\\u020F\\u01A1\\u1EDD\\u1EDB\\u1EE1\\u1EDF\\u1EE3\\u1ECD\\u1ED9\\u01EB\\u01ED\\u00F8\\u01FF\\u0254\\uA74B\\uA74D\\u0275])/g\r\n}, {\r\n  base: 'oe',\r\n  letters: /(&#339;|[\\u0153])/g\r\n}, {\r\n  base: 'oi',\r\n  letters: /(&#419;|[\\u01A3])/g\r\n}, {\r\n  base: 'ou',\r\n  letters: /(&#547;|[\\u0223])/g\r\n}, {\r\n  base: 'oo',\r\n  letters: /(&#42831;|[\\uA74F])/g\r\n}, {\r\n  base: 'p',\r\n  letters: /(&#112;|&#9439;|&#65360;|&#7765;|&#7767;|&#421;|&#7549;|&#42833;|&#42835;|&#42837;|[\\u0070\\u24DF\\uFF50\\u1E55\\u1E57\\u01A5\\u1D7D\\uA751\\uA753\\uA755])/g\r\n}, {\r\n  base: 'q',\r\n  letters: /(&#113;|&#9440;|&#65361;|&#587;|&#42839;|&#42841;|[\\u0071\\u24E0\\uFF51\\u024B\\uA757\\uA759])/g\r\n}, {\r\n  base: 'r',\r\n  letters: /(&#114;|&#9441;|&#65362;|&#341;|&#7769;|&#345;|&#529;|&#531;|&#7771;|&#7773;|&#343;|&#7775;|&#589;|&#637;|&#42843;|&#42919;|&#42883;|[\\u0072\\u24E1\\uFF52\\u0155\\u1E59\\u0159\\u0211\\u0213\\u1E5B\\u1E5D\\u0157\\u1E5F\\u024D\\u027D\\uA75B\\uA7A7\\uA783])/g\r\n}, {\r\n  base: 's',\r\n  letters: /(&#115;|&#9442;|&#65363;|&#347;|&#7781;|&#349;|&#7777;|&#353;|&#7783;|&#7779;|&#7785;|&#537;|&#351;|&#575;|&#42921;|&#42885;|&#7835;|&#383;|[\\u0073\\u24E2\\uFF53\\u015B\\u1E65\\u015D\\u1E61\\u0161\\u1E67\\u1E63\\u1E69\\u0219\\u015F\\u023F\\uA7A9\\uA785\\u1E9B\\u017F])/g\r\n}, {\r\n  base: 'ss',\r\n  letters: /(&#223;|[\\u00DF])/g\r\n}, {\r\n  base: 't',\r\n  letters: /(&#116;|&#9443;|&#65364;|&#7787;|&#7831;|&#357;|&#7789;|&#539;|&#355;|&#7793;|&#7791;|&#359;|&#429;|&#648;|&#11366;|&#42887;|[\\u0074\\u24E3\\uFF54\\u1E6B\\u1E97\\u0165\\u1E6D\\u021B\\u0163\\u1E71\\u1E6F\\u0167\\u01AD\\u0288\\u2C66\\uA787])/g\r\n}, {\r\n  base: 'th',\r\n  letters: /(&#254;|[\\u00FE])/g\r\n}, {\r\n  base: 'tz',\r\n  letters: /(&#42793;|[\\uA729])/g\r\n}, {\r\n  base: 'u',\r\n  letters: /(&#117;|&#9444;|&#65365;|&#249;|&#250;|&#251;|&#361;|&#7801;|&#363;|&#7803;|&#365;|&#252;|&#476;|&#472;|&#470;|&#474;|&#7911;|&#367;|&#369;|&#468;|&#533;|&#535;|&#432;|&#7915;|&#7913;|&#7919;|&#7917;|&#7921;|&#7909;|&#7795;|&#371;|&#7799;|&#7797;|&#649;|[\\u0075\\u24E4\\uFF55\\u00F9\\u00FA\\u00FB\\u0169\\u1E79\\u016B\\u1E7B\\u016D\\u00FC\\u01DC\\u01D8\\u01D6\\u01DA\\u1EE7\\u016F\\u0171\\u01D4\\u0215\\u0217\\u01B0\\u1EEB\\u1EE9\\u1EEF\\u1EED\\u1EF1\\u1EE5\\u1E73\\u0173\\u1E77\\u1E75\\u0289])/g\r\n}, {\r\n  base: 'v',\r\n  letters: /(&#118;|&#9445;|&#65366;|&#7805;|&#7807;|&#651;|&#42847;|&#652;|[\\u0076\\u24E5\\uFF56\\u1E7D\\u1E7F\\u028B\\uA75F\\u028C])/g\r\n}, {\r\n  base: 'vy',\r\n  letters: /(&#42849;|[\\uA761])/g\r\n}, {\r\n  base: 'w',\r\n  letters: /(&#119;|&#9446;|&#65367;|&#7809;|&#7811;|&#373;|&#7815;|&#7813;|&#7832;|&#7817;|&#11379;|[\\u0077\\u24E6\\uFF57\\u1E81\\u1E83\\u0175\\u1E87\\u1E85\\u1E98\\u1E89\\u2C73])/g\r\n}, {\r\n  base: 'x',\r\n  letters: /(&#120;|&#9447;|&#65368;|&#7819;|&#7821;|[\\u0078\\u24E7\\uFF58\\u1E8B\\u1E8D])/g\r\n}, {\r\n  base: 'y',\r\n  letters: /(&#121;|&#9448;|&#65369;|&#7923;|&#253;|&#375;|&#7929;|&#563;|&#7823;|&#255;|&#7927;|&#7833;|&#7925;|&#436;|&#591;|&#7935;|[\\u0079\\u24E8\\uFF59\\u1EF3\\u00FD\\u0177\\u1EF9\\u0233\\u1E8F\\u00FF\\u1EF7\\u1E99\\u1EF5\\u01B4\\u024F\\u1EFF])/g\r\n}, {\r\n  base: 'z',\r\n  letters: /(&#122;|&#9449;|&#65370;|&#378;|&#7825;|&#380;|&#382;|&#7827;|&#7829;|&#438;|&#549;|&#576;|&#11372;|&#42851;|[\\u007A\\u24E9\\uFF5A\\u017A\\u1E91\\u017C\\u017E\\u1E93\\u1E95\\u01B6\\u0225\\u0240\\u2C6C\\uA763])/g\r\n}];\r\n\r\nvar removeAccents = function removeAccents(str) {\r\n  var formattedStr = str;\r\n  lettersDiacritics.forEach(function (letterDiacritics) {\r\n    formattedStr = formattedStr.replace(letterDiacritics.letters, letterDiacritics.base);\r\n  });\r\n  return formattedStr;\r\n};\r\n\r\nvar normalizeString = function normalizeString(str) {\r\n  return removeAccents(str).toLowerCase();\r\n};\r\n\r\nvar getSubstringIndex = function getSubstringIndex(str, substr, ignoreAccents) {\r\n  if (!ignoreAccents) {\r\n    return str.toLowerCase().indexOf(substr.toLowerCase());\r\n  }\r\n\r\n  return normalizeString(str).indexOf(normalizeString(substr));\r\n};\r\n\r\nvar isObjectEqual = function isObjectEqual(obj1, obj2) {\r\n  if (!obj1 || !obj2) {\r\n    return false;\r\n  }\r\n\r\n  var keys1 = Object.keys(obj1);\r\n  var keys2 = Object.keys(obj2);\r\n\r\n  if (keys1.length !== keys2.length) {\r\n    return false;\r\n  }\r\n\r\n  for (var i = 0; i < keys1.length; i++) {\r\n    var key = keys1[i];\r\n\r\n    if (obj1[key] !== obj2[key]) {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nvar isNumber = function isNumber(val) {\r\n  return typeof val === 'number';\r\n};\r\n\r\nvar keys = function keys(obj) {\r\n  return obj === Object(obj) ? Object.keys(obj) : [];\r\n};\r\n\r\nvar omit = function omit(obj) {\r\n  var _ref;\r\n\r\n  for (var _len = arguments.length, rest = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\r\n    rest[_key - 1] = arguments[_key];\r\n  }\r\n\r\n  var keys = (_ref = []).concat.apply(_ref, rest);\r\n\r\n  return Object.keys(obj).reduce(function (acc, k) {\r\n    if (obj.hasOwnProperty(k) && !keys.includes(k) && obj[k] !== undefined) {\r\n      acc[k] = obj[k];\r\n    }\r\n\r\n    return acc;\r\n  }, {});\r\n};\r\n\r\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\r\n\r\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\r\n\r\nvar _generateComponentKey = function _generateComponentKey(usedKeys, id) {\r\n  if (!usedKeys.hasOwnProperty(id)) {\r\n    usedKeys[id] = 0;\r\n  } else {\r\n    usedKeys[id]++;\r\n  }\r\n\r\n  return id + '_' + usedKeys[id];\r\n};\r\n\r\nvar Highlighter = /*#__PURE__*/function (_Component) {\r\n  _inherits(Highlighter, _Component);\r\n\r\n  function Highlighter() {\r\n    var _this;\r\n\r\n    _classCallCheck(this, Highlighter);\r\n\r\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Highlighter).apply(this, arguments));\r\n    _this.state = {\r\n      lastPosition: {}\r\n    };\r\n    return _this;\r\n  }\r\n\r\n  _createClass(Highlighter, [{\r\n    key: \"componentDidMount\",\r\n    value: function componentDidMount() {\r\n      this.notifyCaretPosition();\r\n    }\r\n  }, {\r\n    key: \"componentDidUpdate\",\r\n    value: function componentDidUpdate() {\r\n      this.notifyCaretPosition();\r\n    }\r\n  }, {\r\n    key: \"notifyCaretPosition\",\r\n    value: function notifyCaretPosition() {\r\n      if (!this.caretRef) {\r\n        return;\r\n      }\r\n\r\n      var position = {\r\n        left: this.caretRef.offsetLeft,\r\n        top: this.caretRef.offsetTop\r\n      };\r\n      var lastPosition = this.state.lastPosition;\r\n\r\n      if (isObjectEqual(lastPosition, position)) {\r\n        return;\r\n      }\r\n\r\n      this.setState({\r\n        lastPosition: position\r\n      });\r\n      this.props.onCaretPositionChange(position);\r\n    }\r\n  }, {\r\n    key: \"render\",\r\n    value: function render() {\r\n      var _this2 = this;\r\n\r\n      var _this$props = this.props,\r\n          selection = _this$props.selection,\r\n          value = _this$props.value,\r\n          style = _this$props.style,\r\n          inputStyle = _this$props.inputStyle,\r\n          children = _this$props.children;\r\n      var config = readConfigFromChildren(children); // If there's a caret (i.e. no range selection), map the caret position into the marked up value\r\n\r\n      var caretPositionInMarkup;\r\n\r\n      if (selection.start === selection.end) {\r\n        caretPositionInMarkup = mapPlainTextIndex(value, config, selection.start, 'START');\r\n      }\r\n\r\n      var resultComponents = [];\r\n      var componentKeys = {}; // start by appending directly to the resultComponents\r\n\r\n      var components = resultComponents;\r\n      var substringComponentKey = 0;\r\n\r\n      var textIteratee = function textIteratee(substr, index, indexInPlainText) {\r\n        // check whether the caret element has to be inserted inside the current plain substring\r\n        if (isNumber(caretPositionInMarkup) && caretPositionInMarkup >= index && caretPositionInMarkup <= index + substr.length) {\r\n          // if yes, split substr at the caret position and insert the caret component\r\n          var splitIndex = caretPositionInMarkup - index;\r\n          components.push(_this2.renderSubstring(substr.substring(0, splitIndex), substringComponentKey)); // add all following substrings and mention components as children of the caret component\r\n\r\n          components = [_this2.renderSubstring(substr.substring(splitIndex), substringComponentKey)];\r\n        } else {\r\n          // otherwise just push the plain text substring\r\n          components.push(_this2.renderSubstring(substr, substringComponentKey));\r\n        }\r\n\r\n        substringComponentKey++;\r\n      };\r\n\r\n      var mentionIteratee = function mentionIteratee(markup, index, indexInPlainText, id, display, mentionChildIndex, lastMentionEndIndex) {\r\n        // generate a component key based on the id\r\n        var key = _generateComponentKey(componentKeys, id);\r\n\r\n        components.push(_this2.getMentionComponentForMatch(id, display, mentionChildIndex, key));\r\n      };\r\n\r\n      iterateMentionsMarkup(value, config, mentionIteratee, textIteratee); // append a span containing a space, to ensure the last text line has the correct height\r\n\r\n      components.push(' ');\r\n\r\n      if (components !== resultComponents) {\r\n        // if a caret component is to be rendered, add all components that followed as its children\r\n        resultComponents.push(this.renderHighlighterCaret(components));\r\n      }\r\n\r\n      return React.createElement(\"div\", _extends({}, style, {\r\n        style: _objectSpread({}, inputStyle, {}, style.style)\r\n      }), resultComponents);\r\n    }\r\n  }, {\r\n    key: \"renderSubstring\",\r\n    value: function renderSubstring(string, key) {\r\n      // set substring span to hidden, so that Emojis are not shown double in Mobile Safari\r\n      return React.createElement(\"span\", _extends({}, this.props.style('substring'), {\r\n        key: key\r\n      }), string);\r\n    } // Returns a clone of the Mention child applicable for the specified type to be rendered inside the highlighter\r\n\r\n  }, {\r\n    key: \"getMentionComponentForMatch\",\r\n    value: function getMentionComponentForMatch(id, display, mentionChildIndex, key) {\r\n      var props = {\r\n        id: id,\r\n        display: display,\r\n        key: key\r\n      };\r\n      var child = Children.toArray(this.props.children)[mentionChildIndex];\r\n      return React.cloneElement(child, props);\r\n    } // Renders an component to be inserted in the highlighter at the current caret position\r\n\r\n  }, {\r\n    key: \"renderHighlighterCaret\",\r\n    value: function renderHighlighterCaret(children) {\r\n      var _this3 = this;\r\n\r\n      return React.createElement(\"span\", _extends({}, this.props.style('caret'), {\r\n        ref: function ref(el) {\r\n          _this3.caretRef = el;\r\n        },\r\n        key: \"caret\"\r\n      }), children);\r\n    }\r\n  }]);\r\n\r\n  return Highlighter;\r\n}(Component);\r\n\r\n_defineProperty(Highlighter, \"propTypes\", {\r\n  selection: PropTypes.shape({\r\n    start: PropTypes.number,\r\n    end: PropTypes.number\r\n  }).isRequired,\r\n  value: PropTypes.string.isRequired,\r\n  onCaretPositionChange: PropTypes.func.isRequired,\r\n  inputStyle: PropTypes.object,\r\n  children: PropTypes.oneOfType([PropTypes.element, PropTypes.arrayOf(PropTypes.element)]).isRequired\r\n});\r\n\r\n_defineProperty(Highlighter, \"defaultProps\", {\r\n  value: '',\r\n  inputStyle: {}\r\n});\r\n\r\nvar styled = defaultStyle({\r\n  position: 'relative',\r\n  width: 'inherit',\r\n  color: 'transparent',\r\n  overflow: 'hidden',\r\n  whiteSpace: 'pre-wrap',\r\n  wordWrap: 'break-word',\r\n  '&singleLine': {\r\n    whiteSpace: 'pre',\r\n    wordWrap: null\r\n  },\r\n  substring: {\r\n    visibility: 'hidden'\r\n  }\r\n}, function (props) {\r\n  return {\r\n    '&singleLine': props.singleLine\r\n  };\r\n});\r\nvar Highlighter$1 = styled(Highlighter);\r\n\r\nvar Suggestion = /*#__PURE__*/function (_Component) {\r\n  _inherits(Suggestion, _Component);\r\n\r\n  function Suggestion() {\r\n    _classCallCheck(this, Suggestion);\r\n\r\n    return _possibleConstructorReturn(this, _getPrototypeOf(Suggestion).apply(this, arguments));\r\n  }\r\n\r\n  _createClass(Suggestion, [{\r\n    key: \"render\",\r\n    value: function render() {\r\n      var rest = omit(this.props, 'style', keys(Suggestion.propTypes));\r\n      return React.createElement(\"li\", _extends({}, rest, this.props.style), this.renderContent());\r\n    }\r\n  }, {\r\n    key: \"renderContent\",\r\n    value: function renderContent() {\r\n      var _this$props = this.props,\r\n          query = _this$props.query,\r\n          renderSuggestion = _this$props.renderSuggestion,\r\n          suggestion = _this$props.suggestion,\r\n          index = _this$props.index,\r\n          focused = _this$props.focused;\r\n      var display = this.getDisplay();\r\n      var highlightedDisplay = this.renderHighlightedDisplay(display, query);\r\n\r\n      if (renderSuggestion) {\r\n        return renderSuggestion(suggestion, query, highlightedDisplay, index, focused);\r\n      }\r\n\r\n      return highlightedDisplay;\r\n    }\r\n  }, {\r\n    key: \"getDisplay\",\r\n    value: function getDisplay() {\r\n      var suggestion = this.props.suggestion;\r\n\r\n      if (suggestion instanceof String) {\r\n        return suggestion;\r\n      }\r\n\r\n      var id = suggestion.id,\r\n          display = suggestion.display;\r\n\r\n      if (id === undefined || !display) {\r\n        return id;\r\n      }\r\n\r\n      return display;\r\n    }\r\n  }, {\r\n    key: \"renderHighlightedDisplay\",\r\n    value: function renderHighlightedDisplay(display) {\r\n      var _this$props2 = this.props,\r\n          ignoreAccents = _this$props2.ignoreAccents,\r\n          query = _this$props2.query,\r\n          style = _this$props2.style;\r\n      var i = getSubstringIndex(display, query, ignoreAccents);\r\n\r\n      if (i === -1) {\r\n        return React.createElement(\"span\", style('display'), display);\r\n      }\r\n\r\n      return React.createElement(\"span\", style('display'), display.substring(0, i), React.createElement(\"b\", style('highlight'), display.substring(i, i + query.length)), display.substring(i + query.length));\r\n    }\r\n  }]);\r\n\r\n  return Suggestion;\r\n}(Component);\r\n\r\n_defineProperty(Suggestion, \"propTypes\", {\r\n  id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n  query: PropTypes.string.isRequired,\r\n  index: PropTypes.number.isRequired,\r\n  ignoreAccents: PropTypes.bool,\r\n  suggestion: PropTypes.oneOfType([PropTypes.string, PropTypes.shape({\r\n    id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n    display: PropTypes.string\r\n  })]).isRequired,\r\n  renderSuggestion: PropTypes.func,\r\n  focused: PropTypes.bool\r\n});\r\n\r\nvar styled$1 = defaultStyle({\r\n  cursor: 'pointer'\r\n}, function (props) {\r\n  return {\r\n    '&focused': props.focused\r\n  };\r\n});\r\nvar Suggestion$1 = styled$1(Suggestion);\r\n\r\nfunction LoadingIndicator(_ref) {\r\n  var style = _ref.style;\r\n  var spinnerStyle = style('spinner');\r\n  return React.createElement(\"div\", style, React.createElement(\"div\", spinnerStyle, React.createElement(\"div\", spinnerStyle(['element', 'element1'])), React.createElement(\"div\", spinnerStyle(['element', 'element2'])), React.createElement(\"div\", spinnerStyle(['element', 'element3'])), React.createElement(\"div\", spinnerStyle(['element', 'element4'])), React.createElement(\"div\", spinnerStyle(['element', 'element5']))));\r\n}\r\n\r\nvar LoadingIndicator$1 = substyle(LoadingIndicator);\r\n\r\nfunction ownKeys$1(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\r\n\r\nfunction _objectSpread$1(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$1(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$1(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\r\n\r\nvar SuggestionsOverlay = /*#__PURE__*/function (_Component) {\r\n  _inherits(SuggestionsOverlay, _Component);\r\n\r\n  function SuggestionsOverlay() {\r\n    _classCallCheck(this, SuggestionsOverlay);\r\n\r\n    return _possibleConstructorReturn(this, _getPrototypeOf(SuggestionsOverlay).apply(this, arguments));\r\n  }\r\n\r\n  _createClass(SuggestionsOverlay, [{\r\n    key: \"componentDidUpdate\",\r\n    value: function componentDidUpdate() {\r\n      if (!this.suggestionsRef || this.suggestionsRef.offsetHeight >= this.suggestionsRef.scrollHeight || !this.props.scrollFocusedIntoView) {\r\n        return;\r\n      }\r\n\r\n      var scrollTop = this.suggestionsRef.scrollTop;\r\n\r\n      var _this$suggestionsRef$ = this.suggestionsRef.children[this.props.focusIndex].getBoundingClientRect(),\r\n          top = _this$suggestionsRef$.top,\r\n          bottom = _this$suggestionsRef$.bottom;\r\n\r\n      var _this$suggestionsRef$2 = this.suggestionsRef.getBoundingClientRect(),\r\n          topContainer = _this$suggestionsRef$2.top;\r\n\r\n      top = top - topContainer + scrollTop;\r\n      bottom = bottom - topContainer + scrollTop;\r\n\r\n      if (top < scrollTop) {\r\n        this.suggestionsRef.scrollTop = top;\r\n      } else if (bottom > this.suggestionsRef.offsetHeight) {\r\n        this.suggestionsRef.scrollTop = bottom - this.suggestionsRef.offsetHeight;\r\n      }\r\n    }\r\n  }, {\r\n    key: \"render\",\r\n    value: function render() {\r\n      var _this = this;\r\n\r\n      var _this$props = this.props,\r\n          suggestions = _this$props.suggestions,\r\n          isLoading = _this$props.isLoading,\r\n          style = _this$props.style,\r\n          onMouseDown = _this$props.onMouseDown; // do not show suggestions until there is some data\r\n\r\n      if (countSuggestions(suggestions) === 0 && !isLoading) {\r\n        return null;\r\n      }\r\n\r\n      return React.createElement(\"div\", _extends({}, style, {\r\n        onMouseDown: onMouseDown\r\n      }), React.createElement(\"ul\", _extends({\r\n        ref: function ref(el) {\r\n          _this.suggestionsRef = el;\r\n        }\r\n      }, style('list')), this.renderSuggestions()), this.renderLoadingIndicator());\r\n    }\r\n  }, {\r\n    key: \"renderSuggestions\",\r\n    value: function renderSuggestions() {\r\n      var _this2 = this;\r\n\r\n      return Object.values(this.props.suggestions).reduce(function (accResults, _ref) {\r\n        var results = _ref.results,\r\n            queryInfo = _ref.queryInfo;\r\n        return [].concat(_toConsumableArray(accResults), _toConsumableArray(results.map(function (result, index) {\r\n          return _this2.renderSuggestion(result, queryInfo, accResults.length + index);\r\n        })));\r\n      }, []);\r\n    }\r\n  }, {\r\n    key: \"renderSuggestion\",\r\n    value: function renderSuggestion(result, queryInfo, index) {\r\n      var _this3 = this;\r\n\r\n      var id = this.getID(result);\r\n      var isFocused = index === this.props.focusIndex;\r\n      var childIndex = queryInfo.childIndex,\r\n          query = queryInfo.query;\r\n      var renderSuggestion = Children.toArray(this.props.children)[childIndex].props.renderSuggestion;\r\n      var ignoreAccents = this.props.ignoreAccents;\r\n      return React.createElement(Suggestion$1, {\r\n        style: this.props.style('item'),\r\n        key: \"\".concat(childIndex, \"-\").concat(id),\r\n        id: id,\r\n        query: query,\r\n        index: index,\r\n        ignoreAccents: ignoreAccents,\r\n        renderSuggestion: renderSuggestion,\r\n        suggestion: result,\r\n        focused: isFocused,\r\n        onClick: function onClick() {\r\n          return _this3.select(result, queryInfo);\r\n        },\r\n        onMouseEnter: function onMouseEnter() {\r\n          return _this3.handleMouseEnter(index);\r\n        }\r\n      });\r\n    }\r\n  }, {\r\n    key: \"getID\",\r\n    value: function getID(suggestion) {\r\n      if (suggestion instanceof String) {\r\n        return suggestion;\r\n      }\r\n\r\n      return suggestion.id;\r\n    }\r\n  }, {\r\n    key: \"renderLoadingIndicator\",\r\n    value: function renderLoadingIndicator() {\r\n      if (!this.props.isLoading) {\r\n        return;\r\n      }\r\n\r\n      return React.createElement(LoadingIndicator$1, {\r\n        style: this.props.style('loadingIndicator')\r\n      });\r\n    }\r\n  }, {\r\n    key: \"handleMouseEnter\",\r\n    value: function handleMouseEnter(index, ev) {\r\n      if (this.props.onMouseEnter) {\r\n        this.props.onMouseEnter(index);\r\n      }\r\n    }\r\n  }, {\r\n    key: \"select\",\r\n    value: function select(suggestion, queryInfo) {\r\n      this.props.onSelect(suggestion, queryInfo);\r\n    }\r\n  }]);\r\n\r\n  return SuggestionsOverlay;\r\n}(Component);\r\n\r\n_defineProperty(SuggestionsOverlay, \"propTypes\", {\r\n  suggestions: PropTypes.object.isRequired,\r\n  focusIndex: PropTypes.number,\r\n  scrollFocusedIntoView: PropTypes.bool,\r\n  isLoading: PropTypes.bool,\r\n  onSelect: PropTypes.func,\r\n  ignoreAccents: PropTypes.bool,\r\n  children: PropTypes.oneOfType([PropTypes.element, PropTypes.arrayOf(PropTypes.element)]).isRequired\r\n});\r\n\r\n_defineProperty(SuggestionsOverlay, \"defaultProps\", {\r\n  suggestions: {},\r\n  onSelect: function onSelect() {\r\n    return null;\r\n  }\r\n});\r\n\r\nvar styled$2 = defaultStyle(function (_ref2) {\r\n  var position = _ref2.position;\r\n  return _objectSpread$1({\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    backgroundColor: 'white',\r\n    marginTop: 14,\r\n    minWidth: 100\r\n  }, position, {\r\n    list: {\r\n      margin: 0,\r\n      padding: 0,\r\n      listStyleType: 'none'\r\n    }\r\n  });\r\n});\r\nvar SuggestionsOverlay$1 = styled$2(SuggestionsOverlay);\r\n\r\nfunction ownKeys$2(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\r\n\r\nfunction _objectSpread$2(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$2(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$2(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\r\nvar makeTriggerRegex = function makeTriggerRegex(trigger) {\r\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\r\n\r\n  if (trigger instanceof RegExp) {\r\n    return trigger;\r\n  } else {\r\n    var allowSpaceInQuery = options.allowSpaceInQuery;\r\n    var escapedTriggerChar = escapeRegex(trigger); // first capture group is the part to be replaced on completion\r\n    // second capture group is for extracting the search query\r\n\r\n    return new RegExp(\"(?:^|\\\\s)(\".concat(escapedTriggerChar, \"([^\").concat(allowSpaceInQuery ? '' : '\\\\s').concat(escapedTriggerChar, \"]*))$\"));\r\n  }\r\n};\r\n\r\nvar getDataProvider = function getDataProvider(data, ignoreAccents) {\r\n  if (data instanceof Array) {\r\n    // if data is an array, create a function to query that\r\n    return function (query, callback) {\r\n      var results = [];\r\n\r\n      for (var i = 0, l = data.length; i < l; ++i) {\r\n        var display = data[i].display || data[i].id;\r\n\r\n        if (getSubstringIndex(display, query, ignoreAccents) >= 0) {\r\n          results.push(data[i]);\r\n        }\r\n      }\r\n\r\n      return results;\r\n    };\r\n  } else {\r\n    // expect data to be a query function\r\n    return data;\r\n  }\r\n};\r\n\r\nvar KEY = {\r\n  TAB: 9,\r\n  RETURN: 13,\r\n  ESC: 27,\r\n  UP: 38,\r\n  DOWN: 40\r\n};\r\nvar isComposing = false;\r\nvar propTypes = {\r\n  /**\r\n   * If set to `true` a regular text input element will be rendered\r\n   * instead of a textarea\r\n   */\r\n  singleLine: PropTypes.bool,\r\n  allowSpaceInQuery: PropTypes.bool,\r\n  EXPERIMENTAL_cutCopyPaste: PropTypes.bool,\r\n  allowSuggestionsAboveCursor: PropTypes.bool,\r\n  ignoreAccents: PropTypes.bool,\r\n  value: PropTypes.string,\r\n  onKeyDown: PropTypes.func,\r\n  onSelect: PropTypes.func,\r\n  onBlur: PropTypes.func,\r\n  onChange: PropTypes.func,\r\n  suggestionsPortalHost: typeof Element === 'undefined' ? PropTypes.any : PropTypes.PropTypes.instanceOf(Element),\r\n  inputRef: PropTypes.oneOfType([PropTypes.func, PropTypes.shape({\r\n    current: typeof Element === 'undefined' ? PropTypes.any : PropTypes.instanceOf(Element)\r\n  })]),\r\n  children: PropTypes.oneOfType([PropTypes.element, PropTypes.arrayOf(PropTypes.element)]).isRequired\r\n};\r\n\r\nvar MentionsInput = /*#__PURE__*/function (_React$Component) {\r\n  _inherits(MentionsInput, _React$Component);\r\n\r\n  function MentionsInput(_props) {\r\n    var _this;\r\n\r\n    _classCallCheck(this, MentionsInput);\r\n\r\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(MentionsInput).call(this, _props));\r\n\r\n    _defineProperty(_assertThisInitialized(_this), \"getInputProps\", function (isTextarea) {\r\n      var _this$props = _this.props,\r\n          readOnly = _this$props.readOnly,\r\n          disabled = _this$props.disabled,\r\n          style = _this$props.style; // pass all props that we don't use through to the input control\r\n\r\n      var props = omit(_this.props, 'style', keys(propTypes));\r\n      return _objectSpread$2({}, props, {}, style('input'), {\r\n        value: _this.getPlainText()\r\n      }, !readOnly && !disabled && {\r\n        onChange: _this.handleChange,\r\n        onSelect: _this.handleSelect,\r\n        onKeyDown: _this.handleKeyDown,\r\n        onBlur: _this.handleBlur,\r\n        onCompositionStart: _this.handleCompositionStart,\r\n        onCompositionEnd: _this.handleCompositionEnd,\r\n        onScroll: _this.updateHighlighterScroll\r\n      });\r\n    });\r\n\r\n    _defineProperty(_assertThisInitialized(_this), \"renderControl\", function () {\r\n      var _this$props2 = _this.props,\r\n          singleLine = _this$props2.singleLine,\r\n          style = _this$props2.style;\r\n\r\n      var inputProps = _this.getInputProps(!singleLine);\r\n\r\n      return React.createElement(\"div\", style('control'), _this.renderHighlighter(inputProps.style), singleLine ? _this.renderInput(inputProps) : _this.renderTextarea(inputProps));\r\n    });\r\n\r\n    _defineProperty(_assertThisInitialized(_this), \"renderInput\", function (props) {\r\n      return React.createElement(\"input\", _extends({\r\n        type: \"text\",\r\n        ref: _this.setInputRef\r\n      }, props));\r\n    });\r\n\r\n    _defineProperty(_assertThisInitialized(_this), \"renderTextarea\", function (props) {\r\n      return React.createElement(\"textarea\", _extends({\r\n        ref: _this.setInputRef\r\n      }, props));\r\n    });\r\n\r\n    _defineProperty(_assertThisInitialized(_this), \"setInputRef\", function (el) {\r\n      _this.inputRef = el;\r\n      var inputRef = _this.props.inputRef;\r\n\r\n      if (typeof inputRef === 'function') {\r\n        inputRef(el);\r\n      } else if (inputRef) {\r\n        inputRef.current = el;\r\n      }\r\n    });\r\n\r\n    _defineProperty(_assertThisInitialized(_this), \"renderSuggestionsOverlay\", function () {\r\n      if (!isNumber(_this.state.selectionStart)) {\r\n        // do not show suggestions when the input does not have the focus\r\n        return null;\r\n      }\r\n\r\n      var suggestionsNode = React.createElement(SuggestionsOverlay$1, {\r\n        style: _this.props.style('suggestions'),\r\n        position: _this.state.suggestionsPosition,\r\n        focusIndex: _this.state.focusIndex,\r\n        scrollFocusedIntoView: _this.state.scrollFocusedIntoView,\r\n        ref: function ref(el) {\r\n          _this.suggestionsRef = el;\r\n        },\r\n        suggestions: _this.state.suggestions,\r\n        onSelect: _this.addMention,\r\n        onMouseDown: _this.handleSuggestionsMouseDown,\r\n        onMouseEnter: function onMouseEnter(focusIndex) {\r\n          return _this.setState({\r\n            focusIndex: focusIndex,\r\n            scrollFocusedIntoView: false\r\n          });\r\n        },\r\n        isLoading: _this.isLoading(),\r\n        ignoreAccents: _this.props.ignoreAccents\r\n      }, _this.props.children);\r\n\r\n      if (_this.props.suggestionsPortalHost) {\r\n        return ReactDOM.createPortal(suggestionsNode, _this.props.suggestionsPortalHost);\r\n      } else {\r\n        return suggestionsNode;\r\n      }\r\n    });\r\n\r\n    _defineProperty(_assertThisInitialized(_this), \"renderHighlighter\", function (inputStyle) {\r\n      var _this$state = _this.state,\r\n          selectionStart = _this$state.selectionStart,\r\n          selectionEnd = _this$state.selectionEnd;\r\n      var _this$props3 = _this.props,\r\n          singleLine = _this$props3.singleLine,\r\n          children = _this$props3.children,\r\n          value = _this$props3.value,\r\n          style = _this$props3.style;\r\n      return React.createElement(Highlighter$1, {\r\n        ref: function ref(el) {\r\n          _this.highlighterRef = el;\r\n        },\r\n        style: style('highlighter'),\r\n        inputStyle: inputStyle,\r\n        value: value,\r\n        singleLine: singleLine,\r\n        selection: {\r\n          start: selectionStart,\r\n          end: selectionEnd\r\n        },\r\n        onCaretPositionChange: function onCaretPositionChange(position) {\r\n          return _this.setState({\r\n            caretPosition: position\r\n          });\r\n        }\r\n      }, children);\r\n    });\r\n\r\n    _defineProperty(_assertThisInitialized(_this), \"getPlainText\", function () {\r\n      return getPlainText(_this.props.value || '', readConfigFromChildren(_this.props.children));\r\n    });\r\n\r\n    _defineProperty(_assertThisInitialized(_this), \"executeOnChange\", function (event) {\r\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\r\n        args[_key - 1] = arguments[_key];\r\n      }\r\n\r\n      if (_this.props.onChange) {\r\n        var _this$props4;\r\n\r\n        return (_this$props4 = _this.props).onChange.apply(_this$props4, [event].concat(args));\r\n      }\r\n\r\n      if (_this.props.valueLink) {\r\n        var _this$props$valueLink;\r\n\r\n        return (_this$props$valueLink = _this.props.valueLink).requestChange.apply(_this$props$valueLink, [event.target.value].concat(args));\r\n      }\r\n    });\r\n\r\n    _defineProperty(_assertThisInitialized(_this), \"handleChange\", function (ev) {\r\n      // if we are inside iframe, we need to find activeElement within its contentDocument\r\n      var currentDocument = document.activeElement && document.activeElement.contentDocument || document;\r\n\r\n      if (currentDocument.activeElement !== ev.target) {\r\n        // fix an IE bug (blur from empty input element with placeholder attribute trigger \"input\" event)\r\n        return;\r\n      }\r\n\r\n      var value = _this.props.value || '';\r\n      var config = readConfigFromChildren(_this.props.children);\r\n      var newPlainTextValue = ev.target.value; // Derive the new value to set by applying the local change in the textarea's plain text\r\n\r\n      var newValue = applyChangeToValue(value, newPlainTextValue, {\r\n        selectionStartBefore: _this.state.selectionStart,\r\n        selectionEndBefore: _this.state.selectionEnd,\r\n        selectionEndAfter: ev.target.selectionEnd\r\n      }, config); // In case a mention is deleted, also adjust the new plain text value\r\n\r\n      newPlainTextValue = getPlainText(newValue, config); // Save current selection after change to be able to restore caret position after rerendering\r\n\r\n      var selectionStart = ev.target.selectionStart;\r\n      var selectionEnd = ev.target.selectionEnd;\r\n      var setSelectionAfterMentionChange = false; // Adjust selection range in case a mention will be deleted by the characters outside of the\r\n      // selection range that are automatically deleted\r\n\r\n      var startOfMention = findStartOfMentionInPlainText(value, config, selectionStart);\r\n\r\n      if (startOfMention !== undefined && _this.state.selectionEnd > startOfMention) {\r\n        // only if a deletion has taken place\r\n        selectionStart = startOfMention;\r\n        selectionEnd = selectionStart;\r\n        setSelectionAfterMentionChange = true;\r\n      }\r\n\r\n      _this.setState({\r\n        selectionStart: selectionStart,\r\n        selectionEnd: selectionEnd,\r\n        setSelectionAfterMentionChange: setSelectionAfterMentionChange\r\n      });\r\n\r\n      var mentions = getMentions(newValue, config); // Propagate change\r\n      // let handleChange = this.getOnChange(this.props) || emptyFunction;\r\n\r\n      var eventMock = {\r\n        target: {\r\n          value: newValue\r\n        }\r\n      }; // this.props.onChange.call(this, eventMock, newValue, newPlainTextValue, mentions);\r\n\r\n      _this.executeOnChange(eventMock, newValue, newPlainTextValue, mentions);\r\n    });\r\n\r\n    _defineProperty(_assertThisInitialized(_this), \"handleSelect\", function (ev) {\r\n      // this function will be called when we hit `enter` and `tab` to select a mention in the suggestion overlay.\r\n      // due to the current requirement, we want to keep the `@` symbol after a mention is selected. (this requirement is done by using the displayTransform prop).\r\n      // the requirement makes this check necessary because otherwise, the `@` symbol will make this function think that the mention hasn't been chosen, and the suggestion overlay will show up, \r\n      // which is not what we want to see(the overlay should disappear after the focused mention is selected).\r\n      if (_this.selectFocusedCalled) {\r\n        _this.selectFocusedCalled = false;\r\n        return;\r\n      } // keep track of selection range / caret position\r\n\r\n\r\n      _this.setState({\r\n        selectionStart: ev.target.selectionStart,\r\n        selectionEnd: ev.target.selectionEnd\r\n      }); // do nothing while a IME composition session is active\r\n\r\n\r\n      if (isComposing) return; // refresh suggestions queries\r\n\r\n      var el = _this.inputRef;\r\n\r\n      if (ev.target.selectionStart === ev.target.selectionEnd) {\r\n        _this.updateMentionsQueries(el.value, ev.target.selectionStart);\r\n      } else {\r\n        _this.clearSuggestions();\r\n      } // sync highlighters scroll position\r\n\r\n\r\n      _this.updateHighlighterScroll();\r\n\r\n      _this.props.onSelect(ev);\r\n    });\r\n\r\n    _defineProperty(_assertThisInitialized(_this), \"handleKeyDown\", function (ev) {\r\n      // do not intercept key events if the suggestions overlay is not shown\r\n      var suggestionsCount = countSuggestions(_this.state.suggestions);\r\n      var suggestionsComp = _this.suggestionsRef;\r\n\r\n      if (suggestionsCount === 0 || !suggestionsComp) {\r\n        _this.props.onKeyDown(ev);\r\n\r\n        return;\r\n      }\r\n\r\n      if (Object.values(KEY).indexOf(ev.keyCode) >= 0) {\r\n        ev.preventDefault();\r\n      }\r\n\r\n      switch (ev.keyCode) {\r\n        case KEY.ESC:\r\n          {\r\n            _this.clearSuggestions();\r\n\r\n            return;\r\n          }\r\n\r\n        case KEY.DOWN:\r\n          {\r\n            _this.shiftFocus(+1);\r\n\r\n            return;\r\n          }\r\n\r\n        case KEY.UP:\r\n          {\r\n            _this.shiftFocus(-1);\r\n\r\n            return;\r\n          }\r\n\r\n        case KEY.RETURN:\r\n          {\r\n            _this.selectFocused();\r\n\r\n            return;\r\n          }\r\n\r\n        case KEY.TAB:\r\n          {\r\n            _this.selectFocused();\r\n\r\n            return;\r\n          }\r\n\r\n        default:\r\n          {\r\n            return;\r\n          }\r\n      }\r\n    });\r\n\r\n    _defineProperty(_assertThisInitialized(_this), \"shiftFocus\", function (delta) {\r\n      var suggestionsCount = countSuggestions(_this.state.suggestions);\r\n\r\n      _this.setState({\r\n        focusIndex: (suggestionsCount + _this.state.focusIndex + delta) % suggestionsCount,\r\n        scrollFocusedIntoView: true\r\n      });\r\n    });\r\n\r\n    _defineProperty(_assertThisInitialized(_this), \"selectFocused\", function () {\r\n      var _this$state2 = _this.state,\r\n          suggestions = _this$state2.suggestions,\r\n          focusIndex = _this$state2.focusIndex;\r\n      var _Object$values$reduce = Object.values(suggestions).reduce(function (acc, _ref) {\r\n        var results = _ref.results,\r\n            queryInfo = _ref.queryInfo;\r\n        return [].concat(_toConsumableArray(acc), _toConsumableArray(results.map(function (result) {\r\n          return {\r\n            result: result,\r\n            queryInfo: queryInfo\r\n          };\r\n        })));\r\n      }, [])[focusIndex],\r\n          result = _Object$values$reduce.result,\r\n          queryInfo = _Object$values$reduce.queryInfo;\r\n      _this.selectFocusedCalled = true;\r\n\r\n      _this.addMention(result, queryInfo);\r\n\r\n      _this.setState({\r\n        focusIndex: 0\r\n      });\r\n    });\r\n\r\n    _defineProperty(_assertThisInitialized(_this), \"handleBlur\", function (ev) {\r\n      var clickedSuggestion = _this._suggestionsMouseDown;\r\n      _this._suggestionsMouseDown = false; // only reset selection if the mousedown happened on an element\r\n      // other than the suggestions overlay\r\n\r\n      if (!clickedSuggestion) {\r\n        _this.setState({\r\n          selectionStart: null,\r\n          selectionEnd: null\r\n        });\r\n      }\r\n\r\n      window.setTimeout(function () {\r\n        _this.updateHighlighterScroll();\r\n      }, 1);\r\n\r\n      _this.props.onBlur(ev, clickedSuggestion);\r\n    });\r\n\r\n    _defineProperty(_assertThisInitialized(_this), \"handleSuggestionsMouseDown\", function (ev) {\r\n      // currently buttons in WVUI will be unmounted when the textarea blurs out,\r\n      // which we don't want to see when clicking on a mention suggest\r\n      // so we call preventDefault to prevent the textarea from blurring out\r\n      ev.preventDefault();\r\n      _this.selectFocusedCalled = true;\r\n      _this._suggestionsMouseDown = true;\r\n    });\r\n\r\n    _defineProperty(_assertThisInitialized(_this), \"updateSuggestionsPosition\", function () {\r\n      var caretPosition = _this.state.caretPosition;\r\n      var _this$props5 = _this.props,\r\n          suggestionsPortalHost = _this$props5.suggestionsPortalHost,\r\n          allowSuggestionsAboveCursor = _this$props5.allowSuggestionsAboveCursor;\r\n\r\n      if (!caretPosition || !_this.suggestionsRef) {\r\n        return;\r\n      }\r\n\r\n      var suggestions = ReactDOM.findDOMNode(_this.suggestionsRef);\r\n      var highlighter = ReactDOM.findDOMNode(_this.highlighterRef); // first get viewport-relative position (highlighter is offsetParent of caret):\r\n\r\n      var caretOffsetParentRect = highlighter.getBoundingClientRect();\r\n      var caretHeight = getComputedStyleLengthProp(highlighter, 'font-size');\r\n      var viewportRelative = {\r\n        left: caretOffsetParentRect.left + caretPosition.left,\r\n        top: caretOffsetParentRect.top + caretPosition.top + caretHeight\r\n      };\r\n      var viewportHeight = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);\r\n\r\n      if (!suggestions) {\r\n        return;\r\n      }\r\n\r\n      var position = {}; // if suggestions menu is in a portal, update position to be releative to its portal node\r\n\r\n      if (suggestionsPortalHost) {\r\n        position.position = 'fixed';\r\n        var left = viewportRelative.left;\r\n        var top = viewportRelative.top; // absolute/fixed positioned elements are positioned according to their entire box including margins; so we remove margins here:\r\n\r\n        left -= getComputedStyleLengthProp(suggestions, 'margin-left');\r\n        top -= getComputedStyleLengthProp(suggestions, 'margin-top'); // take into account highlighter/textinput scrolling:\r\n\r\n        left -= highlighter.scrollLeft;\r\n        top -= highlighter.scrollTop; // guard for mentions suggestions list clipped by right edge of window\r\n\r\n        var viewportWidth = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\r\n\r\n        if (left + suggestions.offsetWidth > viewportWidth) {\r\n          position.left = Math.max(0, viewportWidth - suggestions.offsetWidth);\r\n        } else {\r\n          position.left = left;\r\n        } // guard for mentions suggestions list clipped by bottom edge of window if allowSuggestionsAboveCursor set to true.\r\n        // Move the list up above the caret if it's getting cut off by the bottom of the window, provided that the list height\r\n        // is small enough to NOT cover up the caret\r\n\r\n\r\n        if (allowSuggestionsAboveCursor && top + suggestions.offsetHeight > viewportHeight && suggestions.offsetHeight < top - caretHeight) {\r\n          position.top = Math.max(0, top - suggestions.offsetHeight - caretHeight);\r\n        } else {\r\n          position.top = top;\r\n        }\r\n      } else {\r\n        var _left = caretPosition.left - highlighter.scrollLeft;\r\n\r\n        var _top = caretPosition.top - highlighter.scrollTop; // guard for mentions suggestions list clipped by right edge of window\r\n\r\n\r\n        if (_left + suggestions.offsetWidth > _this.containerRef.offsetWidth) {\r\n          position.right = 0;\r\n        } else {\r\n          position.left = _left;\r\n        } // guard for mentions suggestions list clipped by bottom edge of window if allowSuggestionsAboveCursor set to true.\r\n        // move the list up above the caret if it's getting cut off by the bottom of the window, provided that the list height\r\n        // is small enough to NOT cover up the caret\r\n\r\n\r\n        if (allowSuggestionsAboveCursor && viewportRelative.top - highlighter.scrollTop + suggestions.offsetHeight > viewportHeight && suggestions.offsetHeight < caretOffsetParentRect.top - caretHeight - highlighter.scrollTop) {\r\n          position.top = _top - suggestions.offsetHeight - caretHeight;\r\n        } else {\r\n          position.top = _top;\r\n        }\r\n      }\r\n\r\n      if (isObjectEqual(position, _this.state.suggestionsPosition)) {\r\n        return;\r\n      }\r\n\r\n      _this.setState({\r\n        suggestionsPosition: position\r\n      });\r\n    });\r\n\r\n    _defineProperty(_assertThisInitialized(_this), \"updateHighlighterScroll\", function () {\r\n      if (!_this.inputRef || !_this.highlighterRef) {\r\n        // since the invocation of this function is deferred,\r\n        // the whole component may have been unmounted in the meanwhile\r\n        return;\r\n      }\r\n\r\n      var input = _this.inputRef;\r\n      var highlighter = ReactDOM.findDOMNode(_this.highlighterRef);\r\n      highlighter.scrollLeft = input.scrollLeft;\r\n      highlighter.scrollTop = input.scrollTop;\r\n      highlighter.height = input.height;\r\n    });\r\n\r\n    _defineProperty(_assertThisInitialized(_this), \"handleCompositionStart\", function () {\r\n      isComposing = true;\r\n    });\r\n\r\n    _defineProperty(_assertThisInitialized(_this), \"handleCompositionEnd\", function () {\r\n      isComposing = false;\r\n    });\r\n\r\n    _defineProperty(_assertThisInitialized(_this), \"setSelection\", function (selectionStart, selectionEnd) {\r\n      if (selectionStart === null || selectionEnd === null) return;\r\n      var el = _this.inputRef;\r\n\r\n      if (el.setSelectionRange) {\r\n        el.setSelectionRange(selectionStart, selectionEnd);\r\n      } else if (el.createTextRange) {\r\n        var range = el.createTextRange();\r\n        range.collapse(true);\r\n        range.moveEnd('character', selectionEnd);\r\n        range.moveStart('character', selectionStart);\r\n        range.select();\r\n      }\r\n    });\r\n\r\n    _defineProperty(_assertThisInitialized(_this), \"updateMentionsQueries\", function (plainTextValue, caretPosition) {\r\n      // Invalidate previous queries. Async results for previous queries will be neglected.\r\n      _this._queryId++;\r\n      _this.suggestions = {};\r\n\r\n      _this.setState({\r\n        suggestions: {}\r\n      });\r\n\r\n      var value = _this.props.value || '';\r\n      var children = _this.props.children;\r\n      var config = readConfigFromChildren(children);\r\n      var positionInValue = mapPlainTextIndex(value, config, caretPosition, 'NULL'); // If caret is inside of mention, do not query\r\n\r\n      if (positionInValue === null) {\r\n        return;\r\n      } // Extract substring in between the end of the previous mention and the caret\r\n\r\n\r\n      var substringStartIndex = getEndOfLastMention(value.substring(0, positionInValue), config);\r\n      var substring = plainTextValue.substring(substringStartIndex, caretPosition); // Check if suggestions have to be shown:\r\n      // Match the trigger patterns of all Mention children on the extracted substring\r\n\r\n      React.Children.forEach(children, function (child, childIndex) {\r\n        if (!child) {\r\n          return;\r\n        }\r\n\r\n        var regex = makeTriggerRegex(child.props.trigger, _this.props);\r\n        var match = substring.match(regex);\r\n\r\n        if (match) {\r\n          var querySequenceStart = substringStartIndex + substring.indexOf(match[1], match.index);\r\n\r\n          _this.queryData(match[2], childIndex, querySequenceStart, querySequenceStart + match[1].length, plainTextValue);\r\n        }\r\n      });\r\n    });\r\n\r\n    _defineProperty(_assertThisInitialized(_this), \"clearSuggestions\", function () {\r\n      // Invalidate previous queries. Async results for previous queries will be neglected.\r\n      _this._queryId++;\r\n      _this.suggestions = {};\r\n\r\n      _this.setState({\r\n        suggestions: {},\r\n        focusIndex: 0\r\n      });\r\n    });\r\n\r\n    _defineProperty(_assertThisInitialized(_this), \"queryData\", function (query, childIndex, querySequenceStart, querySequenceEnd, plainTextValue) {\r\n      var _this$props6 = _this.props,\r\n          children = _this$props6.children,\r\n          ignoreAccents = _this$props6.ignoreAccents;\r\n      var mentionChild = Children.toArray(children)[childIndex];\r\n      var provideData = getDataProvider(mentionChild.props.data, ignoreAccents);\r\n      var syncResult = provideData(query, _this.updateSuggestions.bind(null, _this._queryId, childIndex, query, querySequenceStart, querySequenceEnd, plainTextValue));\r\n\r\n      if (syncResult instanceof Array) {\r\n        _this.updateSuggestions(_this._queryId, childIndex, query, querySequenceStart, querySequenceEnd, plainTextValue, syncResult);\r\n      }\r\n    });\r\n\r\n    _defineProperty(_assertThisInitialized(_this), \"updateSuggestions\", function (queryId, childIndex, query, querySequenceStart, querySequenceEnd, plainTextValue, results) {\r\n      // neglect async results from previous queries\r\n      if (queryId !== _this._queryId) return; // save in property so that multiple sync state updates from different mentions sources\r\n      // won't overwrite each other\r\n\r\n      _this.suggestions = _objectSpread$2({}, _this.suggestions, _defineProperty({}, childIndex, {\r\n        queryInfo: {\r\n          childIndex: childIndex,\r\n          query: query,\r\n          querySequenceStart: querySequenceStart,\r\n          querySequenceEnd: querySequenceEnd,\r\n          plainTextValue: plainTextValue\r\n        },\r\n        results: results\r\n      }));\r\n      var focusIndex = _this.state.focusIndex;\r\n      var suggestionsCount = countSuggestions(_this.suggestions);\r\n\r\n      _this.setState({\r\n        suggestions: _this.suggestions,\r\n        focusIndex: focusIndex >= suggestionsCount ? Math.max(suggestionsCount - 1, 0) : focusIndex\r\n      });\r\n    });\r\n\r\n    _defineProperty(_assertThisInitialized(_this), \"addMention\", function (_ref2, _ref3) {\r\n      var id = _ref2.id,\r\n          display = _ref2.display;\r\n      var childIndex = _ref3.childIndex,\r\n          querySequenceStart = _ref3.querySequenceStart,\r\n          querySequenceEnd = _ref3.querySequenceEnd,\r\n          plainTextValue = _ref3.plainTextValue;\r\n      // Insert mention in the marked up value at the correct position\r\n      var value = _this.props.value || '';\r\n      var config = readConfigFromChildren(_this.props.children);\r\n      var mentionsChild = Children.toArray(_this.props.children)[childIndex];\r\n      var _mentionsChild$props = mentionsChild.props,\r\n          markup = _mentionsChild$props.markup,\r\n          displayTransform = _mentionsChild$props.displayTransform,\r\n          appendSpaceOnAdd = _mentionsChild$props.appendSpaceOnAdd,\r\n          onAdd = _mentionsChild$props.onAdd;\r\n      var start = mapPlainTextIndex(value, config, querySequenceStart, 'START');\r\n      var end = start + querySequenceEnd - querySequenceStart;\r\n      var insert = makeMentionsMarkup(markup, id, display);\r\n\r\n      if (appendSpaceOnAdd) {\r\n        insert += ' ';\r\n      }\r\n\r\n      var newValue = spliceString(value, start, end, insert); // Refocus input and set caret position to end of mention\r\n\r\n      _this.inputRef.focus();\r\n\r\n      var displayValue = displayTransform(id, display);\r\n\r\n      if (appendSpaceOnAdd) {\r\n        displayValue += ' ';\r\n      }\r\n\r\n      var newCaretPosition = querySequenceStart + displayValue.length;\r\n\r\n      _this.setState({\r\n        selectionStart: newCaretPosition,\r\n        selectionEnd: newCaretPosition,\r\n        setSelectionAfterMentionChange: true\r\n      }); // Propagate change\r\n\r\n\r\n      var eventMock = {\r\n        target: {\r\n          value: newValue\r\n        }\r\n      };\r\n      var mentions = getMentions(newValue, config);\r\n      var newPlainTextValue = spliceString(plainTextValue, querySequenceStart, querySequenceEnd, displayValue);\r\n\r\n      _this.executeOnChange(eventMock, newValue, newPlainTextValue, mentions);\r\n\r\n      if (onAdd) {\r\n        onAdd(id, display);\r\n      } // Make sure the suggestions overlay is closed\r\n\r\n\r\n      _this.clearSuggestions();\r\n    });\r\n\r\n    _defineProperty(_assertThisInitialized(_this), \"isLoading\", function () {\r\n      var isLoading = false;\r\n      React.Children.forEach(_this.props.children, function (child) {\r\n        isLoading = isLoading || child && child.props.isLoading;\r\n      });\r\n      return isLoading;\r\n    });\r\n\r\n    _defineProperty(_assertThisInitialized(_this), \"_queryId\", 0);\r\n\r\n    _this.suggestions = {};\r\n    _this.handleCopy = _this.handleCopy.bind(_assertThisInitialized(_this));\r\n    _this.handleCut = _this.handleCut.bind(_assertThisInitialized(_this));\r\n    _this.handlePaste = _this.handlePaste.bind(_assertThisInitialized(_this)); // a boolean variable that indicates whether this.selectFocused is just called\r\n\r\n    _this.selectFocusedCalled = false;\r\n    _this.state = {\r\n      focusIndex: 0,\r\n      selectionStart: null,\r\n      selectionEnd: null,\r\n      suggestions: {},\r\n      caretPosition: null,\r\n      suggestionsPosition: null\r\n    };\r\n    return _this;\r\n  }\r\n\r\n  _createClass(MentionsInput, [{\r\n    key: \"componentDidMount\",\r\n    value: function componentDidMount() {\r\n      var EXPERIMENTAL_cutCopyPaste = this.props.EXPERIMENTAL_cutCopyPaste;\r\n\r\n      if (EXPERIMENTAL_cutCopyPaste) {\r\n        document.addEventListener('copy', this.handleCopy);\r\n        document.addEventListener('cut', this.handleCut);\r\n        document.addEventListener('paste', this.handlePaste);\r\n      }\r\n\r\n      this.updateSuggestionsPosition();\r\n    }\r\n  }, {\r\n    key: \"componentDidUpdate\",\r\n    value: function componentDidUpdate(prevProps, prevState) {\r\n      // Update position of suggestions unless this componentDidUpdate was\r\n      // triggered by an update to suggestionsPosition.\r\n      if (prevState.suggestionsPosition === this.state.suggestionsPosition) {\r\n        this.updateSuggestionsPosition();\r\n      } // maintain selection in case a mention is added/removed causing\r\n      // the cursor to jump to the end\r\n\r\n\r\n      if (this.state.setSelectionAfterMentionChange) {\r\n        this.setState({\r\n          setSelectionAfterMentionChange: false\r\n        });\r\n        this.setSelection(this.state.selectionStart, this.state.selectionEnd);\r\n      }\r\n    }\r\n  }, {\r\n    key: \"componentWillUnmount\",\r\n    value: function componentWillUnmount() {\r\n      var EXPERIMENTAL_cutCopyPaste = this.props.EXPERIMENTAL_cutCopyPaste;\r\n\r\n      if (EXPERIMENTAL_cutCopyPaste) {\r\n        document.removeEventListener('copy', this.handleCopy);\r\n        document.removeEventListener('cut', this.handleCut);\r\n        document.removeEventListener('paste', this.handlePaste);\r\n      }\r\n    }\r\n  }, {\r\n    key: \"render\",\r\n    value: function render() {\r\n      var _this2 = this;\r\n\r\n      return React.createElement(\"div\", _extends({\r\n        ref: function ref(el) {\r\n          _this2.containerRef = el;\r\n        }\r\n      }, this.props.style), this.renderControl(), this.renderSuggestionsOverlay());\r\n    }\r\n  }, {\r\n    key: \"handlePaste\",\r\n    value: function handlePaste(event) {\r\n      if (event.target !== this.inputRef) {\r\n        return;\r\n      }\r\n\r\n      if (!this.supportsClipboardActions(event)) {\r\n        return;\r\n      }\r\n\r\n      event.preventDefault();\r\n      var _this$state3 = this.state,\r\n          selectionStart = _this$state3.selectionStart,\r\n          selectionEnd = _this$state3.selectionEnd;\r\n      var _this$props7 = this.props,\r\n          value = _this$props7.value,\r\n          children = _this$props7.children;\r\n      var config = readConfigFromChildren(children);\r\n      var markupStartIndex = mapPlainTextIndex(value, config, selectionStart, 'START');\r\n      var markupEndIndex = mapPlainTextIndex(value, config, selectionEnd, 'END');\r\n      var pastedMentions = event.clipboardData.getData('text/react-mentions');\r\n      var pastedData = event.clipboardData.getData('text/plain');\r\n      var newValue = spliceString(value, markupStartIndex, markupEndIndex, pastedMentions || pastedData).replace(/\\r/g, '');\r\n      var newPlainTextValue = getPlainText(newValue, config);\r\n      var eventMock = {\r\n        target: _objectSpread$2({}, event.target, {\r\n          value: newValue\r\n        })\r\n      };\r\n      this.executeOnChange(eventMock, newValue, newPlainTextValue, getMentions(newValue, config));\r\n    }\r\n  }, {\r\n    key: \"saveSelectionToClipboard\",\r\n    value: function saveSelectionToClipboard(event) {\r\n      var _this$state4 = this.state,\r\n          selectionStart = _this$state4.selectionStart,\r\n          selectionEnd = _this$state4.selectionEnd;\r\n      var _this$props8 = this.props,\r\n          children = _this$props8.children,\r\n          value = _this$props8.value;\r\n      var config = readConfigFromChildren(children);\r\n      var markupStartIndex = mapPlainTextIndex(value, config, selectionStart, 'START');\r\n      var markupEndIndex = mapPlainTextIndex(value, config, selectionEnd, 'END');\r\n      event.clipboardData.setData('text/plain', event.target.value.slice(selectionStart, selectionEnd));\r\n      event.clipboardData.setData('text/react-mentions', value.slice(markupStartIndex, markupEndIndex));\r\n    }\r\n  }, {\r\n    key: \"supportsClipboardActions\",\r\n    value: function supportsClipboardActions(event) {\r\n      return !!event.clipboardData;\r\n    }\r\n  }, {\r\n    key: \"handleCopy\",\r\n    value: function handleCopy(event) {\r\n      if (event.target !== this.inputRef) {\r\n        return;\r\n      }\r\n\r\n      if (!this.supportsClipboardActions(event)) {\r\n        return;\r\n      }\r\n\r\n      event.preventDefault();\r\n      this.saveSelectionToClipboard(event);\r\n    }\r\n  }, {\r\n    key: \"handleCut\",\r\n    value: function handleCut(event) {\r\n      if (event.target !== this.inputRef) {\r\n        return;\r\n      }\r\n\r\n      if (!this.supportsClipboardActions(event)) {\r\n        return;\r\n      }\r\n\r\n      event.preventDefault();\r\n      this.saveSelectionToClipboard(event);\r\n      var _this$state5 = this.state,\r\n          selectionStart = _this$state5.selectionStart,\r\n          selectionEnd = _this$state5.selectionEnd;\r\n      var _this$props9 = this.props,\r\n          children = _this$props9.children,\r\n          value = _this$props9.value;\r\n      var config = readConfigFromChildren(children);\r\n      var markupStartIndex = mapPlainTextIndex(value, config, selectionStart, 'START');\r\n      var markupEndIndex = mapPlainTextIndex(value, config, selectionEnd, 'END');\r\n      var newValue = [value.slice(0, markupStartIndex), value.slice(markupEndIndex)].join('');\r\n      var newPlainTextValue = getPlainText(newValue, config);\r\n      var eventMock = {\r\n        target: _objectSpread$2({}, event.target, {\r\n          value: newPlainTextValue\r\n        })\r\n      };\r\n      this.executeOnChange(eventMock, newValue, newPlainTextValue, getMentions(value, config));\r\n    } // Handle input element's change event\r\n\r\n  }]);\r\n\r\n  return MentionsInput;\r\n}(React.Component);\r\n/**\r\n * Returns the computed length property value for the provided element.\r\n * Note: According to spec and testing, can count on length values coming back in pixels. See https://developer.mozilla.org/en-US/docs/Web/CSS/used_value#Difference_from_computed_value\r\n */\r\n\r\n\r\n_defineProperty(MentionsInput, \"propTypes\", propTypes);\r\n\r\n_defineProperty(MentionsInput, \"defaultProps\", {\r\n  ignoreAccents: false,\r\n  singleLine: false,\r\n  allowSuggestionsAboveCursor: false,\r\n  onKeyDown: function onKeyDown() {\r\n    return null;\r\n  },\r\n  onSelect: function onSelect() {\r\n    return null;\r\n  },\r\n  onBlur: function onBlur() {\r\n    return null;\r\n  }\r\n});\r\n\r\nvar getComputedStyleLengthProp = function getComputedStyleLengthProp(forElement, propertyName) {\r\n  var length = parseFloat(window.getComputedStyle(forElement, null).getPropertyValue(propertyName));\r\n  return isFinite(length) ? length : 0;\r\n};\r\n\r\nvar isMobileSafari = typeof navigator !== 'undefined' && /iPhone|iPad|iPod/i.test(navigator.userAgent);\r\nvar styled$3 = defaultStyle({\r\n  position: 'relative',\r\n  overflowY: 'visible',\r\n  input: {\r\n    display: 'block',\r\n    position: 'absolute',\r\n    top: 0,\r\n    left: 0,\r\n    boxSizing: 'border-box',\r\n    backgroundColor: 'transparent',\r\n    width: 'inherit',\r\n    fontFamily: 'inherit',\r\n    fontSize: 'inherit',\r\n    letterSpacing: 'inherit'\r\n  },\r\n  '&multiLine': {\r\n    input: _objectSpread$2({\r\n      width: '100%',\r\n      height: '100%',\r\n      bottom: 0,\r\n      overflow: 'hidden',\r\n      resize: 'none'\r\n    }, isMobileSafari ? {\r\n      marginTop: 1,\r\n      marginLeft: -3\r\n    } : null)\r\n  }\r\n}, function (_ref4) {\r\n  var singleLine = _ref4.singleLine;\r\n  return {\r\n    '&singleLine': singleLine,\r\n    '&multiLine': !singleLine\r\n  };\r\n});\r\nvar MentionsInput$1 = styled$3(MentionsInput);\r\n\r\nvar styled$4 = defaultStyle({\r\n  fontWeight: 'inherit'\r\n});\r\nvar Mention = styled$4(function (_ref) {\r\n  var display = _ref.display,\r\n      style = _ref.style;\r\n  return React.createElement(\"strong\", style, display);\r\n});\r\nMention.propTypes = {\r\n  /**\r\n   * Called when a new mention is added in the input\r\n   *\r\n   * Example:\r\n   *\r\n   * ```js\r\n   * function(id, display) {\r\n   *   console.log(\"user \" + display + \" was mentioned!\");\r\n   * }\r\n   * ```\r\n   */\r\n  onAdd: PropTypes.func,\r\n  onRemove: PropTypes.func,\r\n  renderSuggestion: PropTypes.func,\r\n  trigger: PropTypes.oneOfType([PropTypes.string, PropTypes.instanceOf(RegExp)]),\r\n  markup: PropTypes.string,\r\n  displayTransform: PropTypes.func,\r\n\r\n  /**\r\n   * If set to `true` spaces will not interrupt matching suggestions\r\n   */\r\n  allowSpaceInQuery: PropTypes.bool,\r\n  isLoading: PropTypes.bool\r\n};\r\nMention.defaultProps = {\r\n  trigger: '@',\r\n  markup: '@[__display__](__id__)',\r\n  displayTransform: function displayTransform(id, display) {\r\n    return display || id;\r\n  },\r\n  onAdd: function onAdd() {\r\n    return null;\r\n  },\r\n  onRemove: function onRemove() {\r\n    return null;\r\n  },\r\n  renderSuggestion: null,\r\n  isLoading: false,\r\n  appendSpaceOnAdd: false\r\n};\r\n\r\nexport { Mention, MentionsInput$1 as MentionsInput };\r\n"],"sourceRoot":""}